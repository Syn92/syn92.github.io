{"version":3,"sources":["./$_lazy_route_resource lazy namespace object","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/data-service.service.ts","./src/app/data-viz1/data-viz1.component.ts","./src/app/data-viz1/data-viz1.component.html","./src/app/data-viz2/data-viz2.component.ts","./src/app/data-viz2/data-viz2.component.html","./src/app/data-viz3/data-viz3.component.ts","./src/app/data-viz3/data-viz3.component.html","./src/assets/constants.ts","./src/assets/d3-svg-legend/indexRollupNext.js","./src/environments/environment.ts","./src/main.ts"],"names":[],"mappings":"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A;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,UAAU,gBAAgB;AAC1B;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,oBAAoB,gBAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,UAAU,WAAW;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA,cAAc;AACd,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;;AAEH;AACA,YAAY,gDAAM;AAClB,kBAAkB,sDAAY;AAC9B,GAAG;;AAEH;;AAEA;AACA;;AAEA;AACA,cAAc,4DAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4DAAQ;;AAEjC;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,uBAAuB,oDAAG;AAC1B;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,8DAAY;AACzB;AACA;;AAEA;AACA;AACA,gBAAgB,iEAAe;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc,4DAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4DAAQ;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL,eAAe,oDAAG;AAClB;AACA,KAAK;AACL,eAAe,oDAAG;AAClB;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,uBAAuB,oDAAG;;AAE1B;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,sBAAsB,oDAAG;AACzB;AACA,WAAW;AACX;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,8DAAY;AACzB;AACA;;AAEA;AACA;AACA,gBAAgB,iEAAe;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,cAAc,4DAAW;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,4DAAQ;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL,eAAe,oDAAG;AAClB;AACA,KAAK;AACL,eAAe,oDAAG;AAClB;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA,uBAAuB,oDAAG;AAC1B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa,8DAAY;AACzB;AACA;;AAEA;AACA;AACA,gBAAgB,iEAAe;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAE0G,oEAAK,EAAC;AAChH;;;;;;;;;;;;;ACn/BA;AAAA;AAAA,gFAAgF;AAChF,0EAA0E;AAC1E,gEAAgE;AAEzD,MAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;;GAMG;AACH,mEAAmE;;;;;;;;;;;;;ACfnE;AAAA;AAAA;AAAA;AAAA;AAA+C;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,gBAAgB,CAAC,0DAAU;KAChD,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from './data-service.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\nexport class AppComponent {\r\n  title = 'Projet8808';\r\n  \r\n  constructor(private dataService: DataService){}\r\n}\r\n","<mat-toolbar color=\"primary\">\r\n    <span>Projet Crypto</span>\r\n</mat-toolbar>\r\n<div class=\"main-container\" style=\"padding-bottom: 100px\">\r\n    <h1>Visualisation 1 - Dominance du Bitcoin vs les autres cryptommonaies</h1>\r\n    <h3>Comparaison des 3 différents sommet de valorisation qu'ont connus les cryptomonnaies, et comment est réparti le capital entre elles.</h3>\r\n    <app-data-viz1></app-data-viz1>\r\n    <p class='description'><strong>Explication</strong>: L’objectif de cette visualisation est de montrer la place que prend le Bitcoin par \r\n        rapport aux 10 altcoins les plus capitalisés. Chaque carré représente donc une crypto monnaie, \r\n        et son aire est proportionnelle à sa capitalisation par rapport à la capitalisation totale du marché. \r\n        Ainsi, si la capitalisation du bitcoin représente 1,1 Trillion USD$ et que la capitalisation totale \r\n        est de 1,8T USD$, le bitcoin occupera 60% de l’espace. En ayant les trois tree maps juxtaposées, \r\n        cela permettra de comparer les différents niveaux atteints et les particularités d’un cycle à l’autre, \r\n        comme les nouveaux altcoin qui s'immiscent dans le marché. La croisance de chaque cryptomonnaies est \r\n        déterminé par une comparaison à sa valeur de capitalisation de l'année précédente choisie, soit 2014, 2018 \r\n        et 2021 (les années des \"explosions\" du prix) .</p>\r\n</div>\r\n<div class=\"main-container\">\r\n    <h1>Visualisation 2 - S&P500 vs Bitcoin</h1>\r\n    <h3>Comparaison entre la valeur monétaire du Bitcoin et du S&P500 pour les mêmes dates.</h3>\r\n    <app-data-viz2></app-data-viz2>\r\n    <p class='description'><strong>Explication</strong>: Cette visualisation a comme but de démontrer l'existence ou l'inexistence d'une \r\n        relation entre la capitalisation du marché traditionnel (les 500 plus grandes compagnies, S&P500) \r\n        et le marché des crypto-monnaies (Bitcoin).</p>\r\n</div>\r\n<div class=\"main-container\">\r\n    <h1>Visualisation 3 - Les cycles du marché des cryptommonaies</h1>\r\n    <h3>Analyse des cycles du marché et du bitcoin à l'aide d'indicateur comme la BTC dominance et Google Trends </h3>\r\n    <app-data-viz3></app-data-viz3>\r\n    <p class='description'><strong>Explication</strong></p>\r\n</div>\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { DataService } from './data-service.service';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { DataViz1Component } from './data-viz1/data-viz1.component';\r\nimport { DataViz2Component } from './data-viz2/data-viz2.component';\r\nimport { DataViz3Component } from './data-viz3/data-viz3.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    DataViz1Component,\r\n    DataViz2Component,\r\n    DataViz3Component\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    BrowserAnimationsModule,\r\n    MatToolbarModule,\r\n    MatSlideToggleModule,\r\n    FormsModule,\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders, HttpParams } from '@angular/common/http';\r\nimport { forkJoin } from 'rxjs';\r\nimport { Constants } from '../assets/constants'\r\nimport { IDataMarketGlobal } from 'src/assets/Interfaces';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class DataService {\r\n  constructor(private http: HttpClient) { \r\n  }\r\n\r\n  public async getProcessedDataViz1(): Promise<Object> {\r\n    const global2014 = await this.http.get(Constants.NOMICS_API + '/market-cap/history', {params: Constants.PARAMS_SEXY1}).toPromise()\r\n    const global2018 = await this.http.get(Constants.NOMICS_API + '/market-cap/history', {params: Constants.PARAMS_SEXY2}).toPromise()\r\n    const today = new Date()\r\n    today.setHours(0,0,0,0)\r\n    const params = new HttpParams({\r\n      fromObject: {\r\n        key: Constants.KEY5,\r\n        start: today.toISOString(),\r\n        end: today.toISOString()\r\n      }\r\n    })\r\n    \r\n    const global2021 = await this.http.get(Constants.NOMICS_API + '/market-cap/history', {params: params}).toPromise()\r\n\r\n    const path = '/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=10&page=1&sparkline=false'\r\n    const coinList: any = await this.http.get(Constants.COIN_API + path, {params: Constants.PARAMS_BTC}).toPromise()    \r\n\r\n    const top2014 = [\"bitcoin\", \"litecoin\", \"ripple\", \"peercoin\", \"omni\", \"nxt\", \"namecoin\", \"bitshares\", \"quark\", \"megacoin\"];\r\n    const top2018 = [\"bitcoin\", \"ethereum\", \"bitcoin-cash\", \"ripple\", \"litecoin\", \"cardano\", \"iota\", \"dash\", \"nem\", \"monero\"];\r\n\r\n    const coinsWithMarketCap = {\r\n      '2014': {\r\n        market_cap: 0,\r\n        coins: []\r\n      },\r\n      '2018': {\r\n        market_cap: 0,\r\n        coins: []\r\n      },\r\n      '2021': {\r\n        market_cap: 0,\r\n        coins: []\r\n      },\r\n    };\r\n\r\n    const dateA2014 = Math.round((new Date(2014, 0, 5, 0, 0, 0).getTime()/1000))\r\n    const dateB2014 = Math.round((new Date(2014, 0, 5, 23, 59, 59).getTime()/1000))\r\n    console.log(\"fetching1\");\r\n    let tempSum = 0;\r\n    for (const id in top2014) {\r\n      const path1 = `/coins/${top2014[id]}/market_chart/range?vs_currency=usd&from=${dateA2014}&to=${dateB2014}`\r\n      const request: any = await this.http.get(Constants.COIN_API + path1, {params: Constants.PARAMS_BTC}).toPromise()\r\n      coinsWithMarketCap['2014']['coins'].push({coin: top2014[id], parent: '2014', market_cap: request.market_caps[0][1]})\r\n      tempSum += request.market_caps[0][1];     \r\n    }\r\n\r\n    coinsWithMarketCap['2014']['market_cap'] = Number(global2014[0].market_cap)\r\n    coinsWithMarketCap['2014']['coins'].push({coin: \"2014\", parent: '', market_cap: \"\"})\r\n    coinsWithMarketCap['2014']['coins'].push({\r\n      coin: \"others\", parent: '2014', \r\n      market_cap: Math.abs(coinsWithMarketCap['2014']['market_cap'] - tempSum)\r\n    })\r\n    console.log(\"fetching2\");\r\n\r\n    const dateA2018 = Math.round((new Date(2018, 0, 7, 0, 0, 0).getTime()/1000))\r\n    const dateB2018 = Math.round((new Date(2018, 0, 7, 23, 59, 59).getTime()/1000))\r\n    tempSum = 0\r\n\r\n    for (const id in top2018) {\r\n      const path1 = `/coins/${top2018[id]}/market_chart/range?vs_currency=usd&from=${dateA2018}&to=${dateB2018}`\r\n      const request: any = await this.http.get(Constants.COIN_API + path1, {params: Constants.PARAMS_BTC}).toPromise()\r\n      coinsWithMarketCap['2018']['coins'].push({coin: top2018[id], parent: '2018', market_cap: request.market_caps[0][1]})\r\n      tempSum += request.market_caps[0][1];\r\n    }\r\n    coinsWithMarketCap['2018']['market_cap'] = Number(global2018[0].market_cap)\r\n    coinsWithMarketCap['2018']['coins'].push({coin: \"2018\", parent: '', market_cap: \"\"})\r\n    coinsWithMarketCap['2018']['coins'].push({\r\n      coin: \"others\", parent: '2018', \r\n      market_cap: coinsWithMarketCap['2018']['market_cap'] - tempSum\r\n    })\r\n    const dateA2021 = Math.round((new Date().getTime()/1000 - 86460*2))\r\n    const dateB2021 = Math.round((new Date().getTime()/1000 - 86400))\r\n    tempSum = 0\r\n    console.log(\"fetching3\");\r\n\r\n    for (const coin in coinList) {\r\n      const id = coinList[coin].id\r\n      const path1 = `/coins/${id}/market_chart/range?vs_currency=usd&from=${dateA2021}&to=${dateB2021}`\r\n      const request: any = await this.http.get(Constants.COIN_API + path1, {params: Constants.PARAMS_BTC}).toPromise()\r\n      coinsWithMarketCap['2021']['coins'].push({coin: id, parent: '2021', market_cap: request.market_caps[0][1]})\r\n      tempSum += request.market_caps[0][1];\r\n    }\r\n\r\n    coinsWithMarketCap['2021']['market_cap'] = Number(global2021[0].market_cap)\r\n    coinsWithMarketCap['2021']['coins'].push({coin: \"2021\", parent: '', market_cap: \"\"})\r\n    coinsWithMarketCap['2021']['coins'].push({\r\n      coin: \"others\", parent: '2021', \r\n      market_cap: coinsWithMarketCap['2021']['market_cap'] - tempSum\r\n    })\r\n    \r\n    return coinsWithMarketCap;\r\n  }\r\n\r\n  public async getProcessedDataViz2(): Promise<any> {\r\n    const btc = await this.http.get(Constants.COIN_API + '/coins/bitcoin/market_chart/range', {params: Constants.PARAMS_BTC2}).toPromise()\r\n    return this.formatDateUnixToDate((btc as any).prices)\r\n  }\r\n\r\n  private retrieveData(): Promise<any> {\r\n\r\n    let global = this.http.get(Constants.NOMICS_API + '/market-cap/history', {params: Constants.PARAMS_G})\r\n    let btc    = this.http.get(Constants.COIN_API + '/coins/bitcoin/market_chart/range', {params: Constants.PARAMS_BTC})\r\n    let volume = this.http.get(Constants.NOMICS_API + '/volume/history', {params: Constants.PARAMS_V})\r\n    let trend  = this.http.get('assets/data/bitcoin-trend.json').toPromise()\r\n\r\n    return forkJoin([global, btc, volume, trend]).toPromise()\r\n  }\r\n\r\n  public async getProcessedData(): Promise<Object> {\r\n\r\n    const res = await this.retrieveData()\r\n    const global = this.formatDateString(res[0])\r\n    const btcPrice = this.formatDateUnix(res[1].prices)\r\n    const btcDom = []\r\n    const volumeDetailed = res[2].map(d => {\r\n      const date = new Date(d.timestamp)\r\n      const vol = parseInt(d.volume)\r\n\r\n      return [date, vol]\r\n    })\r\n    const volume = this.formatVolume(volumeDetailed)\r\n    \r\n    const globalMap = this.arrayToMap(global)\r\n    const btcMC = this.arrayToMap(this.formatDateUnix(res[1].market_caps))\r\n    const domArray: Number[] = [];\r\n\r\n    btcMC.forEach((val: any, key: any) => {\r\n      if (!globalMap.has(key)){\r\n        return\r\n      }\r\n\r\n      const btc = val.value - (val.value % 1000000)\r\n      const global = globalMap.get(key).value - (globalMap.get(key).value % 1000000)\r\n\r\n      const temp = btc / global * 100\r\n      const dom  = temp > 100 ? 100 : temp.toFixed(0)\r\n      domArray.push(Number(dom));\r\n      btcDom.push([val.timestamp, dom])\r\n    })\r\n    var btcDomSmoothed: Number[] = [];\r\n    btcDomSmoothed =  this.EMACalc(domArray, 20)\r\n    for (let i = 0; i < btcDom.length; i++) {\r\n      btcDom[i][1] = btcDomSmoothed[i]\r\n    }\r\n    \r\n    let trend = res[3].map(e => {\r\n      return [new Date(e.Month), e.bitcoin]\r\n    })\r\n    \r\n    return [\r\n      {type: \"global\", values: global},\r\n      {type: \"volume\", values: volume},\r\n      {type: \"btcPrice\", values: btcPrice},\r\n      {type: \"btcDom\", values: btcDom},\r\n      {type: \"trend\", values: trend},\r\n      \r\n    ]\r\n  }\r\n\r\n  private EMACalc(mArray,mRange) {\r\n    var k = 2/(mRange + 1);\r\n    // first item is just the same as the first item in the input\r\n    const emaArray = [mArray[0]];\r\n    // for the rest of the items, they are computed with the previous one\r\n    for (var i = 1; i < mArray.length; i++) {\r\n      emaArray.push(mArray[i] * k + emaArray[i - 1] * (1 - k));\r\n    }\r\n    return emaArray;\r\n  }\r\n  \r\n  private formatVolume(data) {\r\n    var monthIndex = []\r\n    const monthAvg = []\r\n\r\n    // get the index of the last day of every month and of the last day in the dataset\r\n    data.forEach((v: [Date, number], i: number) => {\r\n      if ((v[0].getFullYear() == 2013))\r\n        return\r\n      \r\n      if ((i == data.length - 1) || (v[0].getMonth() != data[i + 1][0].getMonth()))\r\n      monthIndex.push(i)\r\n    })\r\n    \r\n    // keep only every other month (Feb, Apr, Jun, Aug, Oct, Dec) of every year\r\n    monthIndex = monthIndex.filter((v, i) => i % 2 === 1)\r\n\r\n    // calculate average between two months (ex: between Jan and Feb, Mar and Apr, etc)\r\n    monthIndex.forEach((v, i) => {\r\n      if (i == 0) {\r\n        monthAvg.push([new Date(data[v][0].getFullYear(), data[v][0].getMonth(),0), this.calculateAverage(data.slice(0, v + 1))])\r\n      } else {\r\n        monthAvg.push([new Date(data[v][0].getFullYear(), data[v][0].getMonth(),0), this.calculateAverage(data.slice(monthIndex[i - 1] + 1, v + 1))])\r\n      }\r\n    })\r\n\r\n    return {\r\n      average: monthAvg,\r\n      detailed: data\r\n    }\r\n  }\r\n\r\n  private calculateAverage(arr) {\r\n    return arr.reduce((a, b) => a + b[1], 0) / arr.length\r\n  }\r\n\r\n  private formatDateUnix(data: any) {\r\n    const dates = [];\r\n    data.forEach(e => {\r\n      let d = new Date(e[0]);\r\n      dates.push([d, e[1]])\r\n    });\r\n    \r\n    return dates\r\n  }\r\n\r\n  private formatDateUnixToDate(data: any) {\r\n    const dates = [];\r\n    data.forEach(e => {\r\n      const d = new Date(e[0]);\r\n      const formated = `${d.getFullYear()}-${(d.getMonth()+1)>=10?(d.getMonth()+1):\"0\"+(d.getMonth()+1)}-${d.getDate()>=10?d.getDate():\"0\"+d.getDate()}`;\r\n      dates.push([formated, e[1]])\r\n    });\r\n\r\n    return dates\r\n  }\r\n\r\n  private formatDateString(data: IDataMarketGlobal[]) {\r\n    const dates = [];\r\n    data.forEach((e: IDataMarketGlobal) => {\r\n      let d = new Date(e.timestamp);\r\n      dates.push([d, parseInt(e.market_cap)])\r\n    });\r\n    \r\n    return dates\r\n  }\r\n\r\n  private arrayToMap(arr) {\r\n    const map = new Map()\r\n\r\n    arr.forEach(e => {\r\n      map.set(e[0].toString(), {\r\n        timestamp: e[0],\r\n        value :e[1]\r\n      })\r\n    });\r\n\r\n    return map\r\n  }\r\n}\r\n\r\n\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../data-service.service';\r\nimport * as d3 from 'd3';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nconst symbols = {\r\n  bitcoin: 'BTC',\r\n  litecoin: 'LTC',\r\n  ripple: 'XRP',\r\n  peercoin: 'PPC',\r\n  omni: 'OMNI',\r\n  nxt: 'NXT',\r\n  namecoin: 'NMC',\r\n  bitshares: 'BTS',\r\n  quark: 'QRK',\r\n  megacoin: 'MEC',\r\n  ethereum: 'ETH',\r\n  ['bitcoin-cash']: 'BCH',\r\n  cardano: 'ADA',\r\n  iota: 'MIOTA',\r\n  dash: 'DASH',\r\n  nem: 'NEM',\r\n  monero: 'XMR',\r\n  binancecoin: 'BNB',\r\n  tether: 'USDT',\r\n  polkadot: 'DOT',\r\n  uniswap: 'UNI',\r\n  dogecoin: 'DOGE',\r\n  others: 'OTH'\r\n}\r\n\r\n@Component({\r\n  selector: 'app-data-viz1',\r\n  templateUrl: './data-viz1.component.html',\r\n  styleUrls: ['./data-viz1.component.scss']\r\n})\r\nexport class DataViz1Component implements OnInit {\r\n\r\n  tooltip1a;\r\n  tooltip1b;\r\n  tooltip1c;\r\n\r\n  currentElement;\r\n\r\n  displaySpinner = true;\r\n  coinLists = {}\r\n\r\n  marketCap2014 = 0\r\n  marketCap2018 = 0\r\n  marketCap2021 = 0\r\n\r\n  constructor(private dataService: DataService, private http: HttpClient) {\r\n  }\r\n\r\n  async ngOnInit(): Promise<void> {\r\n\r\n    this.getFolder().then(res => {\r\n      this.coinLists = res;\r\n\r\n    }).catch(async e => {\r\n      console.log(\"dataviz1.json not found\");\r\n      this.coinLists = await this.dataService.getProcessedDataViz1();\r\n\r\n    }).finally(() => {\r\n      this.displaySpinner = false;\r\n      this.sortMofo()\r\n      this.findSymbol();\r\n      this.findGrowth();\r\n      this.changeName();\r\n      console.log(this.coinLists);\r\n      this.displayGraph();\r\n\r\n    });\r\n\r\n  }\r\n\r\n  private sortMofo(): void {\r\n    for (const key in this.coinLists) {\r\n      this.coinLists[key]['coins'] = this.coinLists[key]['coins'].sort((a,b) => (a.market_cap < b.market_cap) ? 1 : ((b.market_cap < a.market_cap) ? -1 : 0))\r\n      for (const i in this.coinLists[key]['coins']) {\r\n        this.coinLists[key]['coins'][i]['rank'] = Number(i)+1\r\n      }\r\n    }\r\n  }\r\n\r\n  private displayGraph(): void {\r\n    this.createSVG('1a', '2014')\r\n    this.createSVG('1b', '2018')\r\n    this.createSVG('1c', '2021')\r\n\r\n    this.createLegend();\r\n\r\n    this.marketCap2014 = Math.ceil(this.coinLists['2014']['market_cap']/1000000000)\r\n    this.marketCap2018 = Math.ceil(this.coinLists['2018']['market_cap']/1000000000)\r\n    this.marketCap2021 = Math.ceil(this.coinLists['2021']['market_cap']/1000000000)\r\n  }\r\n\r\n  private createLegend(): void {\r\n    const svg = d3.select('#legend1')\r\n      .append(\"svg\")\r\n      .attr(\"width\", '100%')\r\n      .attr(\"height\", '80px')\r\n    const defs = svg.append(\"defs\")\r\n    const gradient = defs.append('linearGradient')\r\n      .attr(\"id\", \"linear-gradient\")\r\n\r\n      gradient.selectAll(\"stop\")\r\n      .data([\r\n        {offset: \"0%\", color: \"DarkRed\"},\r\n        {offset: \"25%\", color: \"IndianRed\"},\r\n        {offset: \"50%\", color: \"DarkSeaGreen\"},\r\n        {offset: \"60%\", color: \"Chartreuse\"},\r\n        {offset: \"100%\", color: \"DarkGreen\"}\r\n      ])\r\n      .enter().append(\"stop\")\r\n      .attr(\"offset\", function(d) { return d.offset; })\r\n      .attr(\"stop-color\", function(d) { return d.color; });\r\n\r\n\r\n    svg.append(\"rect\")\r\n    .attr(\"width\", 1000)\r\n    .attr(\"height\", 20)\r\n    .attr('x', 350)\r\n    .attr('y', 35)\r\n    .style(\"fill\", \"url(#linear-gradient)\");  \r\n\r\n    svg.append('text')\r\n    .attr('x', 630)\r\n    .attr('y', 25)\r\n    .text(d => \"Changement de la valeur selon la dernière année évaluée\")\r\n    .attr(\"font-size\", 18)\r\n\r\n    svg.append('text')\r\n    .attr('x', 335)\r\n    .attr('y', 70)\r\n    .text(d => \"-65%\")\r\n    .attr(\"font-size\", 16)\r\n\r\n    svg.append('text')\r\n    .attr('x', 860)\r\n    .attr('y', 70)\r\n    .text(d => \"0%\")\r\n    .attr(\"font-size\", 16)\r\n\r\n    svg.append('text')\r\n    .attr('x', 1340)\r\n    .attr('y', 70)\r\n    .text(d => \"16%\")\r\n    .attr(\"font-size\", 16)\r\n  }\r\n\r\n  private createSVG(id: string, year: string) {\r\n    this.display(id, year, this);\r\n  }\r\n\r\n  private display(id: string, year: string, comp: DataViz1Component): void {\r\n    var margin = {top: 10, right: 10, bottom: 10, left: 10},\r\n    width = 500 - margin.left - margin.right,\r\n    height = 600 - margin.top - margin.bottom;\r\n    \r\n    var svg = d3.select(`#graph${id}`)\r\n    .append(\"svg\")\r\n    .attr(\"width\", width + margin.left + margin.right)\r\n    .attr(\"height\", height + margin.top + margin.bottom)\r\n    .append(\"g\")\r\n    .attr(\"transform\",\r\n          \"translate(\" + margin.left + \",\" + margin.top + \")\");\r\n\r\n    if (id == '1a') {\r\n      comp.tooltip1a = d3.select(`#graph${id}`).append('div')\r\n      .attr('id', `tooltip${id}`)\r\n      .style('position', 'absolute')\r\n      .style('background-color', 'rgba(230, 230, 230)')\r\n      .style('padding', 6)\r\n      .style('display', 'none')\r\n    }\r\n    else if (id == '1b') {\r\n      comp.tooltip1b = d3.select(`#graph${id}`).append('div')\r\n      .attr('id', `tooltip${id}`)\r\n      .style('position', 'absolute')\r\n      .style('background-color', 'rgba(230, 230, 230)')\r\n      .style('padding', 6)\r\n      .style('display', 'none')\r\n    } \r\n    else {\r\n      comp.tooltip1c = d3.select(`#graph${id}`).append('div')\r\n      .attr('id', `tooltip${id}`)\r\n      .style('position', 'absolute')\r\n      .style('background-color', 'rgba(230, 230, 230)')\r\n      .style('padding', 6)\r\n      .style('display', 'none')\r\n    }\r\n\r\n    var root = d3.stratify()\r\n    .id(function(d:any) { return d.coin; })\r\n    .parentId(function(d:any) { return d.parent; })(comp.coinLists[year]['coins'])\r\n  \r\n    root.sum(function(d:any) { return d.market_cap })\r\n    \r\n    d3.treemap()\r\n      .tile(d3.treemapSquarify.ratio(0.5))\r\n      .size([width, height])\r\n      .padding(4)\r\n      (root)\r\n\r\n  var colorScale = d3\r\n    .scaleLinear<string>()\r\n    .domain([-65, -2, 0, 2, 20])\r\n    .range([\"DarkRed\", \"IndianRed\", \"DarkSeaGreen\", \"Chartreuse\", \"DarkGreen\"])\r\n    svg\r\n      .selectAll(\"rect\")\r\n      .data(root.leaves())\r\n      .enter()\r\n      .append(\"rect\")\r\n        .attr('id', function(d:any) {return `rank${d.data.coin}`})\r\n        .attr('x', function (d:any) { return d.x0; })\r\n        .attr('y', function (d:any) { return d.y0; })\r\n        .attr('width', function (d:any) { return d.x1 - d.x0; })\r\n        .attr('height', function (d:any) { return d.y1 - d.y0; })\r\n        .style(\"stroke\", \"black\")\r\n        .attr(\"fill\", function (d:any) { return colorScale(d.data.growth)})\r\n        .on(\"mouseover\", function(event: any, el: any) {\r\n          comp.thiccRect(d3.select(this), this, comp)\r\n          d3.select(`#tooltip${id}`).style('display', 'block')\r\n        })\r\n        .on(\"mouseout\", function(d:any) {\r\n          comp.unthiccRect(comp)\r\n          d3.select(`#tooltip${id}`).style('display', 'none')\r\n        })\r\n        .on(\"mousemove\", function(event: any, el:any) {          \r\n          comp.updateToolTip(id, event, el.data, comp)\r\n        })\r\n\r\n    svg\r\n      .selectAll(\"text\")\r\n      .data(root.leaves())\r\n      .enter()\r\n      .append(\"text\")\r\n        .attr(\"x\", function(d:any){ \r\n          return ((d.x0 + d.x1) / 2) - (85 * (d.x1 - d.x0) / width) - 3\r\n        })\r\n        .attr(\"y\", function(d:any){ \r\n          return ((d.y0 + d.y1) / 2) + (40 * (d.x1 - d.x0) / width)\r\n        })\r\n        .text(function(d:any){ return d.data.symbol})\r\n        .attr(\"font-size\", function(d:any){ \r\n          return String((100 * (d.x1 - d.x0) / width)) + \"px\"\r\n        }) \r\n        .attr(\"fill\", \"white\")\r\n        .on(\"mouseover\", function() {\r\n          comp.thiccRect(undefined, this, comp)\r\n          d3.select(`#tooltip${id}`).style('display', 'block')\r\n        })\r\n        .on(\"mouseout\", function(d:any) {\r\n          comp.unthiccRect(comp)\r\n          d3.select(`#tooltip${id}`).style('display', 'none')\r\n        })\r\n        .on(\"mousemove\", function(event: any, el:any) {          \r\n          comp.updateToolTip(id, event, el.data, comp)\r\n        })\r\n  }\r\n\r\n  public thiccRect(rect, element, comp: DataViz1Component): void {\r\n    const listGraphs = ['1a', '1b', '1c']\r\n\r\n    if (rect !== undefined)\r\n      comp.currentElement = element\r\n\r\n    listGraphs.forEach(id => {\r\n      const svg = d3.select(`#graph${id}`)\r\n      svg.selectAll(`#${comp.currentElement.id}`)\r\n        .style(\"opacity\", \"0.7\")\r\n        .attr(\"stroke-width\", 5)\r\n        .style(\"stroke\", \"red\")\r\n    }) \r\n    \r\n  }\r\n\r\n  public unthiccRect(comp: DataViz1Component): void {\r\n    const listGraphs = ['1a', '1b', '1c']\r\n\r\n    listGraphs.forEach(id => {\r\n      const svg = d3.select(`#graph${id}`)\r\n      svg.selectAll(`#${comp.currentElement.id}`)\r\n        .style(\"opacity\", \"1\")\r\n        .attr(\"stroke-width\", 1)\r\n        .style(\"stroke\", \"black\")\r\n    }) \r\n\r\n  }\r\n  \r\n  public updateToolTip(id: string, mouseEvent, data, comp: DataViz1Component): void {\r\n    let currentToolTip = comp.tooltip1a\r\n    \r\n    if (id === '1b') {\r\n      currentToolTip = comp.tooltip1b\r\n    }\r\n    else if (id === \"1c\") {\r\n      currentToolTip = comp.tooltip1c\r\n    }\r\n\r\n    currentToolTip.html\r\n        (`<span id=\"title\">\r\n          <p>Nom: ${data.coin}</p> \r\n          <p style=\"color:${data.growth >= 0 ? \"green\":\"red\"}\">Croissance du ratio: ${data.growth}%</p>\r\n          <p>Rang: ${data.rank}</p> \r\n          <p>Capitalisation: ${(data.market_cap/1000000000).toFixed(2)}$ Milliards</p> \r\n        </span>`)\r\n      .style('display', 'block')\r\n      .style('font-size', 11.5)\r\n      .selectAll()\r\n      .data(data).enter()\r\n      .append('div')\r\n      .style('font-size', 10)\r\n      .html(d => {\r\n        return `${d.key}: ${Math.floor(d.price)}`\r\n      })\r\n\r\n    currentToolTip\r\n    .style(\"left\",(mouseEvent.pageX + 20)+\"px\")\r\n    .style(\"top\",(mouseEvent.pageY + 20)+\"px\")\r\n  }\r\n\r\n  async getFolder(): Promise<string> {\r\n    return this.http.get<any>(`assets/data/dataviz1.json`).toPromise();\r\n  }\r\n\r\n  private findGrowth(): void {\r\n    for (const key in this.coinLists) {\r\n      this.coinLists[key]['coins'].forEach(c => {\r\n        if (key == '2018') {\r\n          const foundCoin = this.coinLists['2014']['coins'].find(e => e.coin == c.coin)\r\n          if (foundCoin) {\r\n            const marketRatio2014 = foundCoin.market_cap/this.coinLists['2014']['market_cap']\r\n            const marketRatio2018 = c.market_cap/this.coinLists['2018']['market_cap']\r\n\r\n            c['growth'] = Number(((marketRatio2018 - marketRatio2014) * 100).toFixed(1))\r\n          }\r\n        }\r\n        if (key == '2021') {\r\n          const foundCoin = this.coinLists['2018']['coins'].find(e => e.coin == c.coin)\r\n          if (foundCoin) {\r\n            const marketRatio2018 = foundCoin.market_cap/this.coinLists['2018']['market_cap']\r\n            const marketRatio2021 = c.market_cap/this.coinLists['2021']['market_cap']\r\n\r\n            c['growth'] = Number(((marketRatio2021 - marketRatio2018) * 100).toFixed(1))\r\n          }\r\n        }\r\n      });\r\n    } \r\n  }\r\n\r\n  private findSymbol(): void {\r\n    for (const key in this.coinLists) {\r\n      this.coinLists[key]['coins'].forEach(c => {\r\n        const coinSymbol = symbols[c.coin] \r\n        c['symbol'] = coinSymbol\r\n        c['growth'] = 0\r\n      });\r\n    }\r\n  }\r\n\r\n  private changeName(): void {\r\n    for (const key in this.coinLists) {\r\n      this.coinLists[key].coins.forEach(e => {\r\n        if (e.coin === 'others')\r\n          e.coin = 'Autres cryptomonnaies'\r\n      });\r\n    }\r\n  }\r\n}\r\n","<div *ngIf=\"displaySpinner\" class=\"loader\"></div>\r\n<div class=\"tooltip\"></div>\r\n<div class=\"treemap_container\">\r\n    <div>\r\n        <h4 class='year_titles'>Année 2014: Market CAP = {{marketCap2014}}$  Milliards</h4>\r\n        <figure id='graph1a'></figure>\r\n    </div>\r\n    <div>\r\n        <h4 class='year_titles'>Année 2018: Market CAP = {{marketCap2018}}$ Milliards</h4>\r\n        <figure id='graph1b'></figure>\r\n    </div>\r\n    <div>\r\n        <h4 class='year_titles'>Année 2021: Market CAP = {{marketCap2021}}$ Milliards</h4>\r\n        <figure id='graph1c'></figure>\r\n    </div>\r\n</div>\r\n<figure id='legend1'></figure>","import { HttpClient } from '@angular/common/http';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../data-service.service';\r\nimport * as d3Legend from '../../assets/d3-svg-legend'\r\nimport * as d3 from 'd3';\r\n\r\nconst pinIconFull: string = \"M 12 0 C 7.038 0 3 4.066 3 9.065 C 3 16.168 11.154 23.502 11.501 23.81 C 11.644 23.937 11.822 24 12 24 C 12.178 24 12.356 23.937 12.499 23.811 C 12.846 23.502 21 16.168 21 9.065 C 21 4.066 16.962 0 12 0 Z\"\r\n\r\n@Component({\r\n  selector: 'app-data-viz2',\r\n  templateUrl: './data-viz2.component.html',\r\n  styleUrls: ['./data-viz2.component.scss']\r\n})\r\nexport class DataViz2Component implements OnInit {\r\n\r\n  showLog = true\r\n\r\n  colors;\r\n  container;\r\n\r\n  margin = {top: 10, right: 30, bottom: 30, left: 60};\r\n  width = 1000 - this.margin.left - this.margin.right;\r\n  height = 600 - this.margin.top - this.margin.bottom;\r\n  containerWidth = 1200;\r\n  \r\n  btcPrices = [];\r\n  sp500 = []\r\n  cherryPickDates = []\r\n  data = [\r\n    {type:'btc', values: []}, \r\n    {type:'sp', values: []}\r\n  ]\r\n\r\n\r\n  constructor(private dataService: DataService, private http: HttpClient) {\r\n  }\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    this.getFolder().then(res => {\r\n      this.sp500 = res as any;\r\n\r\n    }).catch(async e => {\r\n      console.log(\"sp500.json not found\");\r\n\r\n    }).finally(async () => {\r\n      this.btcPrices = await this.dataService.getProcessedDataViz2();\r\n      this.cherryPickDate(this.btcPrices, this.sp500)\r\n      \r\n      this.setupBaseGraph();\r\n      this.displayGraph();\r\n      this.drawLegend();\r\n    });\r\n  }\r\n  \r\n  private cherryPickDate(btcPrices: any[], sp500: any[]): void {\r\n    btcPrices.forEach(btcElement=> {\r\n      sp500.forEach(spElement => {\r\n        if (btcElement[0] == spElement[\"Effective date\"]) {\r\n          this.cherryPickDates.push({\r\n            date: spElement[\"Effective date\"],\r\n            sp_price: spElement[\"S&P 500\"],\r\n            btc_price: btcElement[1]\r\n          })\r\n          const date = d3.timeParse(\"%Y-%m-%d\")(spElement[\"Effective date\"])          \r\n          this.data[0]['values'].push([date, btcElement[1]])\r\n          this.data[1]['values'].push([date, spElement[\"S&P 500\"]])\r\n        }\r\n      });\r\n    });\r\n  }\r\n  \r\n  private setupBaseGraph(): void {\r\n    this.container = d3.select('figure#graph2')\r\n    .append('svg')\r\n    .attr('class', 'container')\r\n    .attr('width', this.containerWidth)\r\n    .attr('height', this.height + 100)\r\n  }\r\n\r\n  private displayGraph(): void {\r\n    this.display(this)\r\n  }\r\n\r\n  private display(comp: DataViz2Component): void {\r\n\r\n\r\n    var svg = this.container\r\n      .append(\"svg\")\r\n        .attr(\"class\", \"unit\")\r\n        .attr(\"width\", this.width + this.margin.left + this.margin.right + 100)\r\n        .attr(\"height\", this.height + this.margin.top + this.margin.bottom + 50)\r\n      .append(\"g\")\r\n      .attr('transform', `translate(${this.containerWidth/2 - this.width/2}, ${this.margin.left})`);\r\n\r\n    const date: Date[] = []\r\n    this.data[0].values.forEach(e => {\r\n      date.push(e[0])\r\n    })\r\n    \r\n    var xScale = d3.scaleTime()\r\n      .domain(d3.extent(date))\r\n      .range([ 0, this.width ]);\r\n    svg.append(\"g\")\r\n      .attr(\"transform\", \"translate(0,\" + this.height + \")\")\r\n      .call(d3.axisBottom(xScale));\r\n\r\n    var y\r\n    if (comp.showLog) {\r\n      y = d3.scaleLog()\r\n        .domain(\r\n          [\r\n            d3.min(comp.cherryPickDates, function(d) { return +d.btc_price; }),\r\n            d3.max(comp.cherryPickDates, function(d) { return +d.btc_price; }) + 20000\r\n          ])\r\n        .range([ this.height, 0 ]);\r\n    }\r\n    else {\r\n      y = d3.scaleLinear()\r\n      .domain(\r\n        [\r\n          d3.min(comp.cherryPickDates, function(d) { return +d.btc_price; }),\r\n          d3.max(comp.cherryPickDates, function(d) { return +d.btc_price; }) + 4000\r\n        ])\r\n      .range([ this.height, 0 ]);\r\n    }\r\n\r\n    svg.append(\"g\")\r\n      .call(d3.axisLeft(y)\r\n        .tickFormat(y => {\r\n          return `${comp.nFormatter(y, 0)}`\r\n        }))\r\n        \r\n    comp.colors = d3.scaleOrdinal()\r\n      .domain(this.data.map(d => d.type))\r\n      .range(['#4862B4', '#ff5050'])\r\n\r\n    var line = d3.line()\r\n      .x(d => xScale(d[0]))\r\n      .y(d => y(d[1]))\r\n\r\n    var lineGroup = svg.append('g')\r\n      .attr('class', 'lines2')\r\n      .selectAll('.line-group2')\r\n      .data(this.data).enter()\r\n      .append('g')\r\n      .attr('class', 'line')\r\n\r\n    const path = lineGroup.append('path')\r\n      .attr('id', d => d.type)\r\n      .attr('d', d => line(d.values))\r\n      .style('stroke', d => comp.colors(d.type))\r\n      .style('stroke-width', 3)\r\n      .style('fill', 'none')\r\n\r\n    const pin = lineGroup.append('svg')\r\n      .attr('x', xScale(new Date(2018, 11, 9)) - 10)\r\n      .attr('y', '-25')\r\n      .attr('width', 1000)\r\n      .attr('height', 1000)\r\n    pin.append('text')\r\n      .text(\"Trade war\")\r\n      .attr('x', '25')\r\n      .attr('y', '12')\r\n      .attr('color', 'black')\r\n    pin.append('text')\r\n      .text(\"with China\")\r\n      .attr('x', '25')\r\n      .attr('y', '32')\r\n      .attr('color', 'black')\r\n    pin.append('path')\r\n      .attr('d', pinIconFull )\r\n    pin.append('circle')\r\n      .attr('cx', '12')\r\n      .attr('cy', '9')\r\n      .attr('r', '4')\r\n      .attr('fill', 'white')\r\n\r\n    const pin2 = lineGroup.append('svg')\r\n      .attr('x', xScale(new Date(2020,2,8)) - 10)\r\n      .attr('y', '-25')\r\n      .attr('width', 1000)\r\n      .attr('height', 1000)\r\n    pin2.append('text')\r\n      .text(\"Covid 19\")\r\n      .attr('x', '25')\r\n      .attr('y', '17')\r\n      .attr('color', 'black')\r\n    pin2.append('path')\r\n      .attr('d', pinIconFull )\r\n    pin2.append('circle')\r\n      .attr('cx', '12')\r\n      .attr('cy', '9')\r\n      .attr('r', '4')\r\n      .attr('fill', 'white')\r\n    \r\n     var mouseGroup = svg.append('g')\r\n       .attr('class', 'mouse-over-effects2')\r\n  \r\n     mouseGroup.append('path')\r\n       .attr('class', 'mouse-line2')\r\n       .style('stroke', '#A9A9A9')\r\n       .style(\"stroke-width\", 2)\r\n       .style(\"opacity\", \"0\");\r\n  \r\n     var mousePerLine = mouseGroup.selectAll('.mouse-per-line2')\r\n       .data(this.data)\r\n       .enter()\r\n       .append(\"g\")\r\n       .attr(\"class\", function(d) { return `mouse-per-line2-${d.type}`});\r\n\r\n    mousePerLine.append(\"circle\")\r\n      .attr(\"r\", 7)\r\n      .style(\"stroke\", function(d) {\r\n        return comp.colors(d.type);\r\n      })\r\n      .style(\"fill\", \"none\")\r\n      .style(\"stroke-width\", \"2px\")\r\n      .style(\"opacity\", \"0\");\r\n\r\n    mousePerLine.append(\"text\")\r\n      .attr(\"transform\", \"translate(-50,-20)\")\r\n      .style(\"font-weight\", \"bold\")\r\n      .text(\"\")\r\n\r\n    mouseGroup.append('svg:rect')\r\n      .attr('width', this.width) \r\n      .attr('height', this.height)\r\n      .attr('fill', 'none')\r\n      .attr('pointer-events', 'all')\r\n      .on('mouseout', function () {\r\n        d3.select(\".mouse-line2\")\r\n          .style(\"opacity\", \"0\");\r\n        d3.selectAll(\".mouse-per-line2-btc circle\")\r\n          .style(\"opacity\", \"0\");\r\n        d3.selectAll(\".mouse-per-line2-sp circle\")\r\n          .style(\"opacity\", \"0\");\r\n        d3.selectAll(\".mouse-per-line2-btc text\")\r\n          .style(\"opacity\", \"0\");\r\n        d3.selectAll(\".mouse-per-line2-sp text\")\r\n          .style(\"opacity\", \"0\");\r\n      })\r\n      .on('mouseover', function () {\r\n        d3.select(\".mouse-line2\")\r\n          .style(\"opacity\", \"1\");\r\n        d3.selectAll(\".mouse-per-line2-btc circle\")\r\n          .style(\"opacity\", \"1\");\r\n        d3.selectAll(\".mouse-per-line2-sp circle\")\r\n          .style(\"opacity\", \"1\");\r\n        d3.selectAll(\".mouse-per-line2-btc text\")\r\n          .style(\"opacity\", \"1\");\r\n        d3.selectAll(\".mouse-per-line2-sp text\")\r\n          .style(\"opacity\", \"1\");\r\n      })\r\n      .on('mousemove', function (event: MouseEvent) {\r\n        var mouse = d3.pointer(event)\r\n\r\n         d3.selectAll(\".mouse-per-line2-btc\")\r\n           .attr(\"transform\", (d, i) => {\r\n             \r\n             var xDate = xScale.invert(mouse[0])             \r\n             var bisect = d3.bisector(d => d[0]).left \r\n             var idx = bisect(d[\"values\"], xDate);\r\n\r\n             d3.select(\".mouse-line2\")\r\n              .attr(\"d\", function () {\r\n                var data = \"M\" + xScale(d['values'][idx][0]) + \",\" + comp.height;\r\n                data += \" \" + xScale(d['values'][idx][0]) + \",\" + 0;\r\n                return data;\r\n              });\r\n  \r\n\r\n            comp.displayTextMofo(mouse, comp, event, xScale, true);\r\n\r\n            return \"translate(\" + xScale(d['values'][idx][0]) + \",\" + y(d['values'][idx][1]) + \")\"\r\n          });\r\n          \r\n          d3.selectAll(\".mouse-per-line2-sp\")\r\n          .attr(\"transform\", (d, i) => {\r\n            \r\n            const xDate = xScale.invert(mouse[0])             \r\n            const bisect = d3.bisector(d => d[0]).left \r\n            const idx = bisect(d[\"values\"], xDate);\r\n\r\n            d3.select(\".mouse-line2\")\r\n             .attr(\"d\", function () {\r\n               let data = \"M\" + xScale(d['values'][idx][0]) + \",\" + comp.height;\r\n               data += \" \" + xScale(d['values'][idx][0]) + \",\" + 0;\r\n               return data;\r\n             });\r\n \r\n\r\n           comp.displayTextMofo(mouse, comp, event, xScale, false);\r\n\r\n           return \"translate(\" + xScale(d['values'][idx][0]) + \",\" + y(d['values'][idx][1]) + \")\"\r\n         });\r\n      })\r\n      \r\n  }\r\n\r\n  private displayTextMofo(mouse, comp: DataViz2Component, mouseEvent: MouseEvent, xScale, isBtc: boolean): void {\r\n    const mouseValues = []\r\n    comp.data.map(d => {\r\n      const xDate = xScale.invert(mouse[0])             \r\n      const bisect = d3.bisector(d => d[0]).left \r\n      const idx = bisect(d[\"values\"], xDate);\r\n      \r\n      mouseValues.push({key: d.type, date: d.values[idx][0], price: d.values[idx][1]})\r\n    })\r\n\r\n    const positiveValue: string = String(true) as string;\r\n    const negativeValue: string = String(false) as string;\r\n    \r\n    if (String(isBtc).toLowerCase().trim().valueOf() === String(positiveValue)) {\r\n      d3.selectAll(\".mouse-per-line2-btc text\")\r\n        .text(Math.ceil(mouseValues[0].price) + \"$\")\r\n    }\r\n    else if (String(isBtc).toLowerCase().trim().valueOf() === String(negativeValue)) {\r\n      d3.selectAll(\".mouse-per-line2-sp text\")\r\n      .text(Math.ceil(mouseValues[1].price) + \"$\")\r\n    }\r\n  }\r\n\r\n  private drawLegend(): void {\r\n    const scaleLeft = d3.scaleOrdinal()\r\n    .domain(['Valeur du Bitcoin', 'Valeur du S&P500'])\r\n    .range(['#4862B4', '#ff5050'])\r\n\r\n    const legend = d3Legend.legendColor()\r\n                           .title('Légende')\r\n                           .shapeHeight(5)\r\n                           .shapeWidth(20)\r\n                           .shapePadding(5)\r\n                           .labelWrap(150)\r\n                           .scale(scaleLeft)\r\n    this.container\r\n      .append('g')\r\n      .attr('class', 'legend')\r\n      .attr('transform',  `translate(200, 100)`)\r\n      .call(legend)\r\n  }\r\n\r\n  async getFolder(): Promise<string> {\r\n    return this.http.get<any>(`assets/data/sp500.json`).toPromise();\r\n  }\r\n\r\n  onToggle(): void {    \r\n    d3.selectAll('.unit').remove()\r\n    this.displayGraph();\r\n  }\r\n\r\n  private nFormatter(num, digits) {\r\n    var si = [\r\n      { value: 1, symbol: \"\" },\r\n      { value: 1E3, symbol: \"k\" },\r\n      { value: 1E6, symbol: \"M\" },\r\n      { value: 1E9, symbol: \"B\" },\r\n      { value: 1E12, symbol: \"T\" }\r\n    ];\r\n    var regex = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n    var i;\r\n    for (i = si.length - 1; i > 0; i--) {\r\n      if (num >= si[i].value) {\r\n        break;\r\n      }\r\n    }\r\n    return (num / si[i].value).toFixed(digits).replace(regex, \"$1\") + si[i].symbol;\r\n  }\r\n}\r\n","<figure id='graph2'></figure>\r\n<mat-slide-toggle [(ngModel)]=\"showLog\" (change)=\"onToggle()\">Échelle logarithmique</mat-slide-toggle>","  import { Component, OnInit } from '@angular/core';\r\nimport { DataService } from '../data-service.service';  \r\nimport { IData } from '../../assets/Interfaces';\r\nimport * as d3Legend from '../../assets/d3-svg-legend'\r\nimport * as d3 from 'd3';\r\nimport {nest} from 'd3-collection'\r\n\r\nconst pinIcon: string = \"m12 0c-4.962 0-9 4.066-9 9.065 0 7.103 8.154 14.437 8.501 14.745.143.127.321.19.499.19s.356-.063.499-.189c.347-.309 8.501-7.643 8.501-14.746 0-4.999-4.038-9.065-9-9.065zm0 14c-2.757 0-5-2.243-5-5s2.243-5 5-5 5 2.243 5 5-2.243 5-5 5z\"\r\nconst pinIconFull: string = \"M 12 0 C 7.038 0 3 4.066 3 9.065 C 3 16.168 11.154 23.502 11.501 23.81 C 11.644 23.937 11.822 24 12 24 C 12.178 24 12.356 23.937 12.499 23.811 C 12.846 23.502 21 16.168 21 9.065 C 21 4.066 16.962 0 12 0 Z\"\r\n@Component({\r\n  selector: 'app-data-viz3',\r\n  templateUrl: './data-viz3.component.html',\r\n  styleUrls: ['./data-viz3.component.scss']\r\n})\r\nexport class DataViz3Component implements OnInit {\r\n\r\n  private readonly RIGHT_AXIS = ['btcDom', 'trend']\r\n  private readonly LEFT_AXIS = ['global', 'volume', 'btcPrice']\r\n  \r\n  private data: any;\r\n  private pinTooltip: any\r\n  private rectTooltip: any\r\n  public  graphTooltip: any;\r\n  private container;\r\n  private svg;\r\n  private xScale;\r\n  private yScale1;\r\n  private yScale2;\r\n  private colors\r\n  private offset = 100;\r\n  private margin = 50;\r\n  private containerWidth = 1500;\r\n  private width = 1000 - (this.margin * 2);\r\n  private height = 600 - (this.margin * 2);\r\n\r\n  public showBtc: boolean = true;\r\n  public showBtcDom: boolean = true;\r\n  public showTrend: boolean = true;\r\n  public showVol: boolean = true;\r\n  public showTotal: boolean = true;\r\n\r\n  public btc: any;\r\n  public btcDom: any;\r\n  public trend: any;\r\n  public vol: any;\r\n  public total: any;\r\n  \r\n  constructor(private dataService: DataService) { }\r\n  \r\n  public ngOnInit(): void {\r\n    this.dataService.getProcessedData().then((res: IData) => {\r\n      this.data = res\r\n      this.displayGraph()\r\n    });\r\n  }\r\n\r\n  private displayGraph() {\r\n    this.setupBaseGraph();\r\n    this.setupAxies();\r\n    this.drawVol()\r\n    this.drawLegend()\r\n    this.displayLines(this)\r\n    this.drawCycle()\r\n  }\r\n  \r\n  private setupBaseGraph() {\r\n    this.container = d3.select('figure#graph')\r\n      .append('svg')\r\n      .attr('class', 'container')\r\n      .attr('width', this.containerWidth)\r\n      .attr('height', this.height + (this.margin * 2))\r\n      \r\n    this.svg = this.container.append('svg')\r\n      .append('g')\r\n      .attr('width', this.width + (this.margin * 2))\r\n      .attr('height', this.height + (this.margin * 2))\r\n      .attr('transform', `translate(${this.containerWidth/2 - this.width/2}, ${this.margin})`);\r\n  }\r\n\r\n  private setupAxies() {\r\n    const date: Date[] = []\r\n    this.data[0].values.forEach(e => {\r\n      date.push(e[0])\r\n    })\r\n\r\n\r\n    const ext = d3.extent(date, d => d)\r\n    // setup scales\r\n    this.xScale = d3.scaleTime()\r\n      .domain([ext[0].setDate(ext[0].getDate() - 1), ext[1].setDate(ext[1].getDate() + 25)])\r\n      .range([0, this.width])\r\n      \r\n    const maxY1 = parseInt(d3.max(this.data[0].values.map(d => d[1])))\r\n    const minY1 = parseInt(d3.min(this.data[2].values.map(d => d[1])))\r\n  \r\n    this.yScale1 = d3.scaleLog()\r\n      .domain([minY1-this.offset, maxY1])\r\n      .range([this.height, this.margin])\r\n\r\n    this.yScale2 = d3.scaleLinear()\r\n      .domain([0, 100])\r\n      .range([this.height, this.margin])\r\n\r\n    // Append axies to svg\r\n\r\n    this.svg.append('g')\r\n      .attr('transform', `translate(0, ${this.height})`)\r\n      .attr('class', 'x axis')\r\n      .call(d3.axisBottom(this.xScale))\r\n    \r\n    this.svg.append('g')\r\n      .attr('class', 'y axis1')\r\n      .call(d3.axisLeft(this.yScale1)\r\n        .tickFormat(y => {\r\n          return `${this.nFormatter(y, 0)}`\r\n        }))\r\n\r\n    this.svg.append('g')\r\n      .attr('transform', `translate(${this.width}, 0)`)\r\n      .attr('class', 'y axis2')\r\n      .call(d3.axisRight(this.yScale2)\r\n        .tickFormat(y => `${y}%`))\r\n\r\n      \r\n  }\r\n\r\n  private drawVol() {\r\n    // Bar Chart of 2 month avg\r\n    let isSmaller = false;\r\n    this.vol = this.svg.selectAll('.bar')\r\n      .data(this.data[1].values.average)\r\n      .join('rect')\r\n      .attr('class', 'bar')\r\n      .attr('x', d => this.xScale(d[0]) - 5)\r\n      .attr('y', d => this.yScale1(d[1]))\r\n      .attr('width', 10)\r\n      .attr('height', d => this.height - this.yScale1(d[1]))\r\n      .style('fill', (d, i ,e) => {\r\n        if (i === 0)\r\n          return 'green'\r\n          \r\n        return e[i-1].__data__[1] < d[1] ? 'green' : 'red'\r\n      })\r\n      .style('opacity', 0.35)\r\n      .style('stroke-width', 0.5)\r\n  }\r\n  \r\n  private drawLegend() {\r\n    const scaleLeft = d3.scaleOrdinal()\r\n                    .domain(['Capitalisation totale des cryptomonnaies','Valeur du Bitcoin', `Volume d'échange (incrémenté)`, `Volume d'échange (décrémenté)`])\r\n                    .range(['rgb(70, 130, 180)','#4B0082', 'rgb(166, 211, 166)', 'rgb(255, 166, 166)'])\r\n    \r\n    const scaleRight  = d3.scaleOrdinal()\r\n                    .domain(['Dominance du bitcoin', `'Bitcoin' sur google trend US`])\r\n                    .range(['rgb(255, 165, 0)', 'rgb(255, 20, 147)'])\r\n\r\n    const legendLeft = d3Legend.legendColor()\r\n                           .title('Axe Gauche')\r\n                           .shapeHeight(5)\r\n                           .shapeWidth(20)\r\n                           .shapePadding(5)\r\n                           .labelWrap(150)\r\n                           .scale(scaleLeft)\r\n\r\n    const legendRight = d3Legend.legendColor()\r\n                           .title('Axe Droite')\r\n                           .shapeHeight(5)\r\n                           .shapeWidth(20)\r\n                           .shapePadding(5)\r\n                           .labelWrap(150)\r\n                           .scale(scaleRight)\r\n\r\n    this.container.append('g')\r\n      .attr('class', 'legend')\r\n      .attr('transform',  `translate(70, 100) `)\r\n      .call(legendLeft)\r\n\r\n    this.container.append('g')\r\n      .attr('class', 'legend')\r\n      .attr('transform',  `translate(${this.containerWidth/2 + this.width/2 + 80}, 100) `)\r\n      .call(legendRight)\r\n  }\r\n\r\n  private drawCycle() {\r\n    const self = this\r\n    const cycles = [\r\n      {\r\n        type: 'bull',\r\n        tooltipText: \"Premiers stades du bitcoin\",\r\n        start: new Date(2013, 11, 31),\r\n        end: new Date(2014, 5, 9),\r\n        description: \"De sa creation en 2011, jusqu'à Juin 2014, le prix d'un bitcoin grimpe de 12000% à la hausse, passant de quelques dollars a 1100$\",\r\n      },\r\n      {\r\n        type: 'bear',\r\n        tooltipText: \"Le marché devient baissier avec un bitcoin ayant atteint les 1 150$\",\r\n        start: new Date(2014, 5, 10),\r\n        end: new Date(2016, 6, 8),\r\n        description: 'Lors de ces 759 jours, le bitcoin atteint une perte de valeur de -80% passant de 1100 a 200',\r\n      },\r\n      {\r\n        type: 'bull',\r\n        tooltipText: \"Le marché est haussier et le mouvement est amplifié par le halving du bitcoin\" ,\r\n        start: new Date(2016, 6, 9),\r\n        end: new Date(2018, 0, 10),\r\n        description: \"Lors de ces 550 jours, le bitcoin enregistre une hausse de 9000% passant d'environ 200$ a 18 000$\",\r\n      },\r\n      {\r\n        type: 'bear',\r\n        tooltipText: \"Le marché redevient baissier après avoir été en zone de surévaluation, avec un Bitcoin ayant atteint les 17 000$\",\r\n        start: new Date(2018, 0, 11),\r\n        end: new Date(2020, 4, 10),\r\n        description: \"Lors de ces 851 jours, le bitcoin decend jusqu'a une perte de -73% de sa valeur, passant de plus de 18 000$ a un peu moins de 4000$\",\r\n      },\r\n      {\r\n        type: 'bull',\r\n        tooltipText: \"Un nouveau halving du bitcoin, indicateur d'un nouveau cycle haussier, propulse le marché à la hausse\",\r\n        start: new Date(2020, 4, 11),\r\n        end: new Date(2021, 3, 7),\r\n        description: \"En 380 jours, le bitcoin a deja fait plus de x10 dans ce cylce (1000%), passant d'un plus bas a 4000$ a un plus haut de 65 000$\",\r\n      }\r\n    ]\r\n\r\n    this.pinTooltip = d3.select(\"#graph\").append('div')\r\n      .attr('class', 'pinTooltip')\r\n      .style('position', 'absolute')\r\n      .style('display', 'none')\r\n      .text('tooltip text')\r\n      \r\n\r\n    this.rectTooltip = d3.select(\"#graph\").append('div')\r\n    .attr('class', 'rectTooltip')\r\n    .style('position', 'absolute')\r\n    .style('display', 'none')\r\n    .style('height', '100px')\r\n    \r\n    const te = this.svg.selectAll('.cycle')\r\n      .data(cycles)\r\n      .enter().append('g')\r\n      .attr('class', 'cycle')\r\n      \r\n      const rect = te.append('rect')\r\n      .attr('x', d => this.xScale(d.start))\r\n      .attr('y', 0)\r\n      .attr('width', d => this.xScale(d.end) - this.xScale(d.start))\r\n      .attr('height', 18)\r\n      .attr('class', 'rect')\r\n      .style('cursor', 'pointer')\r\n      .style('fill', d => {\r\n        return d.type == 'bear' ? 'indianred' : 'mediumspringgreen'\r\n      })\r\n      .on('mouseenter', (event, d) => {\r\n        self.rectTooltip\r\n        .style('display', 'block')\r\n        .style('left', (event.path[0].getBoundingClientRect().x) - ((self.xScale(d.end) - self.xScale(d.start)) < 140 ? 100 : 0) + \"px\")\r\n        .style('top', Math.floor(event.pageY)-120 + \"px\")\r\n        .style('width', ((self.xScale(d.end) - self.xScale(d.start)) < 140 ? 140 : (self.xScale(d.end) - self.xScale(d.start)) + 'px'))\r\n        .html('<span>' + d.description + '</span>')\r\n      })\r\n      .on('mouseleave', () => {\r\n        self.rectTooltip\r\n        .style('display', 'none')\r\n      })\r\n      \r\n      te.append('text')\r\n      .attr('x', d => this.xScale(d.start) + ((this.xScale(d.end)- this.xScale(d.start))/2))\r\n      .attr('y', 14)\r\n      .attr('text-anchor', 'middle')\r\n      .style('pointer-events', 'none')\r\n      .text(d => d.type)\r\n\r\n      const pin = te.append('svg')\r\n        .attr('x', d => this.xScale(d.start)- 10)\r\n        .attr('y', '-25')\r\n        .style('cursor', 'pointer')\r\n        pin.on('mouseenter', (event, d) => {\r\n          // hover\r\n          self.pinTooltip\r\n          .style('display', 'block')\r\n          .style('left', (event.path[0].getBoundingClientRect().x - 90) + \"px\")\r\n          .style('top', Math.floor(event.pageY)-100 + \"px\")\r\n          .html(`<span class=\"pinTooltipTextTitle\">  ${d.start.getDate()}-${d.start.getMonth() + 1}-${d.start.getFullYear()} <br> </span>` + '<span class=\"pinTooltipText\">' + d.tooltipText + '</span>')\r\n          .style('width', '200px')\r\n\r\n          \r\n        })\r\n        pin.on('mouseleave', () => {\r\n          self.pinTooltip.style('display', 'none')\r\n        })\r\n\r\n      pin.append('path')\r\n      .attr('d', pinIconFull )\r\n      pin.append('circle')\r\n      .attr('cx', '12')\r\n      .attr('cy', '9')\r\n      .attr('r', '4')\r\n      .attr('fill', 'white')\r\n      \r\n  }\r\n\r\n\r\n  // Formats number ex: 10000 => 10K\r\n  private nFormatter(num, digits) {\r\n    var si = [\r\n      { value: 1, symbol: \"\" },\r\n      { value: 1E3, symbol: \"k\" },\r\n      { value: 1E6, symbol: \"M\" },\r\n      { value: 1E9, symbol: \"B\" },\r\n      { value: 1E12, symbol: \"T\" }\r\n    ];\r\n    var regex = /\\.0+$|(\\.[0-9]*[1-9])0+$/;\r\n    var i;\r\n    for (i = si.length - 1; i > 0; i--) {\r\n      if (num >= si[i].value) {\r\n        break;\r\n      }\r\n    }\r\n    return (num / si[i].value).toFixed(digits).replace(regex, \"$1\") + si[i].symbol;\r\n  }\r\n\r\n  public onToggle(obj: any, show: boolean){\r\n    if (typeof obj == 'string' || obj instanceof String){\r\n      d3.select(`#${obj}`)\r\n      // .attr('stroke-dashoffset',(d,i,e) => {return show ? e.length : 0})\r\n      // .attr(\"stroke-dasharray\", (d,i,e) => {return show ? e.length : 0})\r\n\r\n      .style(\"visibility\", show ? \"visible\" : \"hidden\")\r\n    } else\r\n      obj.style(\"visibility\", show ? \"visible\" : \"hidden\")\r\n  }\r\n\r\n  private displayLines(comp: DataViz3Component) {\r\n    comp.colors = d3.scaleOrdinal()\r\n      .domain(this.LEFT_AXIS.concat(this.RIGHT_AXIS))\r\n      .range(['#4682B4', '#A6D3A6', '#4B0082', '#FFA500', '#FF1493'])\r\n\r\n    var lineLeft = d3.line()\r\n      .x(d => this.xScale(d[0]))\r\n      .y(d => this.yScale1(d[1]))\r\n\r\n    var lineRight = d3.line()\r\n      .x(d => this.xScale(d[0]))\r\n      .y(d => this.yScale2(d[1]))\r\n\r\n    var lineGroup = this.svg.append('g')\r\n      .attr('class', 'lines')\r\n      .selectAll('.line-group')\r\n      .data(this.data.filter((d) => d.type != 'volume')).enter()\r\n      .append('g')\r\n      .attr('class', 'line')\r\n      \r\n\r\n    const path = lineGroup.append('path')\r\n      .attr('id', d => d.type)\r\n      .attr('d', d => {\r\n        return this.LEFT_AXIS.includes(d.type) ? lineLeft(d.values) : lineRight(d.values)\r\n      })\r\n      .style('stroke', (d) => comp.colors(d.type))\r\n      .style('stroke-weight', 1.5)\r\n      .style('fill', 'none')\r\n      .attr(\"stroke-dashoffset\", (d, i, e) => e[i].getTotalLength())\r\n      .attr(\"stroke-dasharray\", (d, i, e) => e[i].getTotalLength())\r\n      .transition(d3\r\n        .transition()\r\n        .ease(d3.easeSin)\r\n        .duration(2000))\r\n      .attr(\"stroke-dashoffset\", 0);\r\n\r\n    comp.graphTooltip = d3.select(\"#graph\").append('div')\r\n      .attr('id', 'tooltip')\r\n      .style('position', 'absolute')\r\n      .style('background-color', 'rgba(122, 122, 122)')\r\n      .style('padding', 6)\r\n      .style('display', 'none')\r\n\r\n    var mouseGroup = this.svg.append('g')\r\n      .attr('class', 'mouse-over-effects')\r\n\r\n    mouseGroup.append('path')\r\n      .attr('class', 'mouse-line')\r\n      .style('stroke', '#A9A9A9')\r\n      .style(\"stroke-width\", 2)\r\n      .style(\"opacity\", \"0\");\r\n\r\n    var lines = document.getElementsByClassName('line');\r\n\r\n    var mousePerLine = mouseGroup.selectAll('.mouse-per-line')\r\n      .data(this.data)\r\n      .enter()\r\n      .append(\"g\")\r\n      .attr(\"class\", \"mouse-per-line\");\r\n\r\n    mouseGroup.append('svg:rect')\r\n      .attr('width', this.width) \r\n      .attr('height', this.height)\r\n      .attr('fill', 'none')\r\n      .attr('pointer-events', 'all')\r\n      .on('mouseout', function () { // on mouse out hide line, circles and text\r\n        d3.select(\".mouse-line\")\r\n          .style(\"opacity\", \"0\");\r\n        d3.selectAll(\".mouse-per-line text\")\r\n          .style(\"opacity\", \"0\");\r\n        d3.selectAll(\"#tooltip\")\r\n          .style('display', 'none')\r\n\r\n      })\r\n      .on('mouseover', function () { // on mouse in show line, circles and text\r\n        d3.select(\".mouse-line\")\r\n          .style(\"opacity\", \"1\");\r\n        d3.selectAll(\"#tooltip\")\r\n          .style('display', 'block')\r\n      })\r\n      .on('mousemove', function (event: MouseEvent) { // update tooltip content, line, circles and text when mouse moves\r\n        var mouse = d3.pointer(event)\r\n\r\n        d3.selectAll(\".mouse-per-line\")\r\n          .attr(\"transform\", (d, i) => {\r\n\r\n            if (d['type'] == 'volume' || d['type'] == \"trend\")\r\n              return ''\r\n\r\n            var xDate = comp.xScale.invert(mouse[0])\r\n            var bisect = d3.bisector(d => d[0]).left \r\n            var idx = bisect(d[\"values\"], xDate);\r\n\r\n            d3.select(\".mouse-line\")\r\n              .attr(\"d\", function () {\r\n                var data = \"M\" + comp.xScale(d['values'][idx][0]) + \",\" + 500;\r\n                data += \" \" + comp.xScale(d['values'][idx][0]) + \",\" + 0;\r\n                return data;\r\n              });\r\n          });\r\n\r\n        comp.updateTooltip(mouse, comp.data, comp, event)\r\n\r\n      })\r\n  }\r\n\r\n  private updateTooltip(mouse, data, comp: DataViz3Component, mouseEvent: MouseEvent) {\r\n\r\n    var mouseValues = []\r\n    data.map(d => {\r\n      var xDate = comp.xScale.invert(mouse[0])\r\n      var bisect = d3.bisector(d => d[0]).left\r\n\r\n      if (d['type'] == 'volume'){\r\n        var idx = bisect(d.values.average, xDate)\r\n        mouseValues.push({key: d.type, date: d.values.average[idx][0], price: d.values.average[idx][1]})\r\n      } else {\r\n        var idx = bisect(d.values, xDate)\r\n        mouseValues.push({key: d.type, date: d.values[idx][0], price: d.values[idx][1]})\r\n      }\r\n    })\r\n\r\n    comp.graphTooltip.html(`<span id=\"title\">Date: ${mouseValues[0].date.getDate()}-${mouseValues[0].date.getMonth() + 1}-${mouseValues[0].date.getFullYear()}</span>`)\r\n      .style('display', 'block')\r\n      .style('font-size', 11.5)\r\n      .selectAll()\r\n      .data(mouseValues).enter() // for each vehicle category, list out name and price of premium\r\n      .append('div')\r\n      .style('color', d => {\r\n        return comp.colors(d.key)\r\n      })\r\n      .style('font-size', 10)\r\n      .html(d => {\r\n        return `${d.key}: ${Math.floor(d.price)}`\r\n      })\r\n\r\n    comp.graphTooltip\r\n      .style(\"left\",(mouseEvent.pageX + 20)+\"px\")\r\n      .style(\"top\",(mouseEvent.pageY + 20)+\"px\")\r\n  }\r\n\r\n}\r\n","<figure id='graph'></figure>\r\n<div class=\"toggle_container\">\r\n    <mat-slide-toggle [(ngModel)]=\"showBtc\" (change)=\"onToggle('btcPrice', showBtc)\">Bitcoin</mat-slide-toggle>\r\n    <mat-slide-toggle [(ngModel)]=\"showTotal\" (change)=\"onToggle('global', showTotal)\">Capitalisation totale</mat-slide-toggle>\r\n    <mat-slide-toggle [(ngModel)]=\"showTrend\" (change)=\"onToggle('trend', showTrend)\">Google trend</mat-slide-toggle>\r\n    <mat-slide-toggle [(ngModel)]=\"showBtcDom\" (change)=\"onToggle('btcDom', showBtcDom)\">Dominance du Bitcoin</mat-slide-toggle>\r\n    <mat-slide-toggle [(ngModel)]=\"showVol\" (change)=\"onToggle(vol, showVol)\">Volume d'échange</mat-slide-toggle>\r\n</div>","import { HttpParams } from \"@angular/common/http\";\r\n\r\nexport class Constants {\r\n\r\n    public static readonly CORS_PROXY = 'https://proxy-jantfk.herokuapp.com/'\r\n\r\n    public static readonly COIN_API = \"https://api.coingecko.com/api/v3\";\r\n    public static readonly NOMICS_API = Constants.CORS_PROXY + \"https://api.nomics.com/v1\";\r\n\r\n    public static readonly KEY1 = '2e6869bdd813e302a273c7acd47a8272';\r\n    public static readonly KEY2 = 'dd0fb6d7085993e10e3a8053075802e8';\r\n    public static readonly KEY3 = '32c804afce33f622f1f820754f736009';\r\n    public static readonly KEY4 = 'e2c2b9f41513ecbe6c6c8ac28fa74a08';\r\n    public static readonly KEY5 = '76656826b98b98ef19af9e2b4e8cc429';\r\n\r\n\r\n    public static readonly PARAMS_G = new HttpParams({\r\n        fromObject: {\r\n          key: Constants.KEY1,\r\n          start: '2014-01-01T00:00:00Z',\r\n          end: '2021-04-07T00:00:00Z'\r\n        }\r\n    })\r\n\r\n    public static readonly PARAMS_V = new HttpParams({\r\n        fromObject: {\r\n          key: Constants.KEY2,\r\n          start: '2014-01-01T00:00:00Z',\r\n          end: '2021-04-07T00:00:00Z'\r\n        }\r\n    })\r\n\r\n    public static readonly PARAMS_BTC = new HttpParams({\r\n      fromObject: {\r\n        vs_currency: 'usd',\r\n        from: '1388552400',\r\n        to: '1617768000'\r\n      }\r\n    })\r\n\r\n    public static readonly PARAMS_BTC2 = new HttpParams({\r\n      fromObject: {\r\n        vs_currency: 'usd',\r\n        from: '1388552400',\r\n        to: '1617768000'\r\n      }\r\n    })\r\n\r\n    public static readonly PARAMS_SEXY1 = new HttpParams({\r\n      fromObject: {\r\n        key: Constants.KEY3,\r\n        start: '2014-01-05T00:00:00Z',\r\n        end: '2014-01-05T00:00:00Z'\r\n      }\r\n    })\r\n\r\n    public static readonly PARAMS_SEXY2 = new HttpParams({\r\n      fromObject: {\r\n        key: Constants.KEY4,\r\n        start: '2018-01-07T00:00:00Z',\r\n        end: '2018-01-07T00:00:00Z',\r\n      }\r\n    })\r\n\r\n}","import { select } from 'd3-selection';\r\nimport { format, formatLocale, formatPrefix, formatSpecifier } from 'd3-format';\r\nimport { dispatch } from 'd3-dispatch';\r\nimport { scaleLinear } from 'd3-scale';\r\nimport { max, sum } from 'd3-array';\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\r\n  return typeof obj;\r\n} : function (obj) {\r\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\r\n};\r\n\r\nvar d3_identity = function d3_identity(d) {\r\n  return d;\r\n};\r\n\r\nvar d3_reverse = function d3_reverse(arr) {\r\n  var mirror = [];\r\n  for (var i = 0, l = arr.length; i < l; i++) {\r\n    mirror[i] = arr[l - i - 1];\r\n  }\r\n  return mirror;\r\n};\r\n\r\n//Text wrapping code adapted from Mike Bostock\r\nvar d3_textWrapping = function d3_textWrapping(text, width) {\r\n  text.each(function () {\r\n    var text = select(this),\r\n        words = text.text().split(/\\s+/).reverse(),\r\n        word,\r\n        line = [],\r\n        lineNumber = 0,\r\n        lineHeight = 1.2,\r\n        //ems\r\n    y = text.attr(\"y\"),\r\n        dy = parseFloat(text.attr(\"dy\")) || 0,\r\n        tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"dy\", dy + \"em\");\r\n\r\n    while (word = words.pop()) {\r\n      line.push(word);\r\n      tspan.text(line.join(\" \"));\r\n      if (tspan.node().getComputedTextLength() > width && line.length > 1) {\r\n        line.pop();\r\n        tspan.text(line.join(\" \"));\r\n        line = [word];\r\n        tspan = text.append(\"tspan\").attr(\"x\", 0).attr(\"dy\", lineHeight + dy + \"em\").text(word);\r\n      }\r\n    }\r\n  });\r\n};\r\n\r\nvar d3_mergeLabels = function d3_mergeLabels() {\r\n  var gen = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\r\n  var labels = arguments[1];\r\n  var domain = arguments[2];\r\n  var range = arguments[3];\r\n  var labelDelimiter = arguments[4];\r\n\r\n  if ((typeof labels === \"undefined\" ? \"undefined\" : _typeof(labels)) === \"object\") {\r\n    if (labels.length === 0) return gen;\r\n\r\n    var i = labels.length;\r\n    for (; i < gen.length; i++) {\r\n      labels.push(gen[i]);\r\n    }\r\n    return labels;\r\n  } else if (typeof labels === \"function\") {\r\n    var customLabels = [];\r\n    var genLength = gen.length;\r\n    for (var _i = 0; _i < genLength; _i++) {\r\n      customLabels.push(labels({\r\n        i: _i,\r\n        genLength: genLength,\r\n        generatedLabels: gen,\r\n        domain: domain,\r\n        range: range,\r\n        labelDelimiter: labelDelimiter\r\n      }));\r\n    }\r\n    return customLabels;\r\n  }\r\n\r\n  return gen;\r\n};\r\n\r\nvar d3_linearLegend = function d3_linearLegend(scale, cells, labelFormat) {\r\n  var data = [];\r\n\r\n  if (cells.length > 1) {\r\n    data = cells;\r\n  } else {\r\n    var domain = scale.domain(),\r\n        increment = (domain[domain.length - 1] - domain[0]) / (cells - 1);\r\n    var i = 0;\r\n\r\n    for (; i < cells; i++) {\r\n      data.push(domain[0] + i * increment);\r\n    }\r\n  }\r\n\r\n  var labels = data.map(labelFormat);\r\n  return {\r\n    data: data,\r\n    labels: labels,\r\n    feature: function feature(d) {\r\n      return scale(d);\r\n    }\r\n  };\r\n};\r\n\r\nvar d3_quantLegend = function d3_quantLegend(scale, labelFormat, labelDelimiter) {\r\n  var labels = scale.range().map(function (d) {\r\n    var invert = scale.invertExtent(d);\r\n    return labelFormat(invert[0]) + \" \" + labelDelimiter + \" \" + labelFormat(invert[1]);\r\n  });\r\n\r\n  return {\r\n    data: scale.range(),\r\n    labels: labels,\r\n    feature: d3_identity\r\n  };\r\n};\r\n\r\nvar d3_ordinalLegend = function d3_ordinalLegend(scale) {\r\n  return {\r\n    data: scale.domain(),\r\n    labels: scale.domain(),\r\n    feature: function feature(d) {\r\n      return scale(d);\r\n    }\r\n  };\r\n};\r\n\r\nvar d3_cellOver = function d3_cellOver(cellDispatcher, d, obj) {\r\n  cellDispatcher.call(\"cellover\", obj, d);\r\n};\r\n\r\nvar d3_cellOut = function d3_cellOut(cellDispatcher, d, obj) {\r\n  cellDispatcher.call(\"cellout\", obj, d);\r\n};\r\n\r\nvar d3_cellClick = function d3_cellClick(cellDispatcher, d, obj) {\r\n  cellDispatcher.call(\"cellclick\", obj, d);\r\n};\r\n\r\nvar helper = {\r\n  d3_drawShapes: function d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path) {\r\n    if (shape === \"rect\") {\r\n      shapes.attr(\"height\", shapeHeight).attr(\"width\", shapeWidth);\r\n    } else if (shape === \"circle\") {\r\n      shapes.attr(\"r\", shapeRadius);\r\n    } else if (shape === \"line\") {\r\n      shapes.attr(\"x1\", 0).attr(\"x2\", shapeWidth).attr(\"y1\", 0).attr(\"y2\", 0);\r\n    } else if (shape === \"path\") {\r\n      shapes.attr(\"d\", path);\r\n    }\r\n  },\r\n\r\n  d3_addText: function d3_addText(svg, enter, labels, classPrefix, labelWidth) {\r\n    enter.append(\"text\").attr(\"class\", classPrefix + \"label\");\r\n    var text = svg.selectAll(\"g.\" + classPrefix + \"cell text.\" + classPrefix + \"label\").data(labels).text(d3_identity);\r\n\r\n    if (labelWidth) {\r\n      svg.selectAll(\"g.\" + classPrefix + \"cell text.\" + classPrefix + \"label\").call(d3_textWrapping, labelWidth);\r\n    }\r\n\r\n    return text;\r\n  },\r\n\r\n  d3_calcType: function d3_calcType(scale, ascending, cells, labels, labelFormat, labelDelimiter) {\r\n    var type = scale.invertExtent ? d3_quantLegend(scale, labelFormat, labelDelimiter) : scale.ticks ? d3_linearLegend(scale, cells, labelFormat) : d3_ordinalLegend(scale);\r\n\r\n    //for d3.scaleSequential that doesn't have a range function\r\n    var range = scale.range && scale.range() || scale.domain();\r\n    type.labels = d3_mergeLabels(type.labels, labels, scale.domain(), range, labelDelimiter);\r\n\r\n    if (ascending) {\r\n      type.labels = d3_reverse(type.labels);\r\n      type.data = d3_reverse(type.data);\r\n    }\r\n\r\n    return type;\r\n  },\r\n\r\n  d3_filterCells: function d3_filterCells(type, cellFilter) {\r\n    var filterCells = type.data.map(function (d, i) {\r\n      return { data: d, label: type.labels[i] };\r\n    }).filter(cellFilter);\r\n    var dataValues = filterCells.map(function (d) {\r\n      return d.data;\r\n    });\r\n    var labelValues = filterCells.map(function (d) {\r\n      return d.label;\r\n    });\r\n    type.data = type.data.filter(function (d) {\r\n      return dataValues.indexOf(d) !== -1;\r\n    });\r\n    type.labels = type.labels.filter(function (d) {\r\n      return labelValues.indexOf(d) !== -1;\r\n    });\r\n    return type;\r\n  },\r\n\r\n  d3_placement: function d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign) {\r\n    cell.attr(\"transform\", cellTrans);\r\n    text.attr(\"transform\", textTrans);\r\n    if (orient === \"horizontal\") {\r\n      text.style(\"text-anchor\", labelAlign);\r\n    }\r\n  },\r\n\r\n  d3_addEvents: function d3_addEvents(cells, dispatcher) {\r\n    cells.on(\"mouseover.legend\", function (d) {\r\n      d3_cellOver(dispatcher, d, this);\r\n    }).on(\"mouseout.legend\", function (d) {\r\n      d3_cellOut(dispatcher, d, this);\r\n    }).on(\"click.legend\", function (d) {\r\n      d3_cellClick(dispatcher, d, this);\r\n    });\r\n  },\r\n\r\n  d3_title: function d3_title(svg, title, classPrefix, titleWidth) {\r\n    if (title !== \"\") {\r\n      var titleText = svg.selectAll(\"text.\" + classPrefix + \"legendTitle\");\r\n\r\n      titleText.data([title]).enter().append(\"text\").attr(\"class\", classPrefix + \"legendTitle\");\r\n\r\n      svg.selectAll(\"text.\" + classPrefix + \"legendTitle\").text(title);\r\n\r\n      if (titleWidth) {\r\n        svg.selectAll(\"text.\" + classPrefix + \"legendTitle\").call(d3_textWrapping, titleWidth);\r\n      }\r\n\r\n      var cellsSvg = svg.select(\".\" + classPrefix + \"legendCells\");\r\n      var yOffset = svg.select(\".\" + classPrefix + \"legendTitle\").nodes().map(function (d) {\r\n        return d.getBBox().height;\r\n      })[0],\r\n          xOffset = -cellsSvg.nodes().map(function (d) {\r\n        return d.getBBox().x;\r\n      })[0];\r\n      cellsSvg.attr(\"transform\", \"translate(\" + xOffset + \",\" + yOffset + \")\");\r\n    }\r\n  },\r\n\r\n  d3_defaultLocale: {\r\n    format: format,\r\n    formatPrefix: formatPrefix\r\n  },\r\n\r\n  d3_defaultFormatSpecifier: \".01f\",\r\n\r\n  d3_defaultDelimiter: \"to\"\r\n};\r\n\r\nfunction color() {\r\n  var scale = scaleLinear(),\r\n      shape = \"rect\",\r\n      shapeWidth = 15,\r\n      shapeHeight = 15,\r\n      shapeRadius = 10,\r\n      shapePadding = 2,\r\n      cells = [5],\r\n      cellFilter = void 0,\r\n      labels = [],\r\n      classPrefix = \"\",\r\n      useClass = false,\r\n      title = \"\",\r\n      locale = helper.d3_defaultLocale,\r\n      specifier = helper.d3_defaultFormatSpecifier,\r\n      labelOffset = 10,\r\n      labelAlign = \"middle\",\r\n      labelDelimiter = helper.d3_defaultDelimiter,\r\n      labelWrap = void 0,\r\n      orient = \"vertical\",\r\n      ascending = false,\r\n      path = void 0,\r\n      titleWidth = void 0,\r\n      legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n  function legend(svg) {\r\n    var type = helper.d3_calcType(scale, ascending, cells, labels, locale.format(specifier), labelDelimiter),\r\n        legendG = svg.selectAll(\"g\").data([scale]);\r\n\r\n    legendG.enter().append(\"g\").attr(\"class\", classPrefix + \"legendCells\");\r\n\r\n    if (cellFilter) {\r\n      helper.d3_filterCells(type, cellFilter);\r\n    }\r\n\r\n    var cell = svg.select(\".\" + classPrefix + \"legendCells\").selectAll(\".\" + classPrefix + \"cell\").data(type.data);\r\n\r\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\r\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\r\n\r\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\").data(type.data);\r\n\r\n    //add event handlers\r\n    helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n    cell.exit().transition().style(\"opacity\", 0).remove();\r\n    shapes.exit().transition().style(\"opacity\", 0).remove();\r\n\r\n    shapes = shapes.merge(shapes);\r\n\r\n    helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, path);\r\n    var text = helper.d3_addText(svg, cellEnter, type.labels, classPrefix, labelWrap);\r\n\r\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\r\n    cell = cellEnter.merge(cell);\r\n\r\n    // sets placement\r\n    var textSize = text.nodes().map(function (d) {\r\n      return d.getBBox();\r\n    }),\r\n        shapeSize = shapes.nodes().map(function (d) {\r\n      return d.getBBox();\r\n    });\r\n    //sets scale\r\n    //everything is fill except for line which is stroke,\r\n    if (!useClass) {\r\n      if (shape == \"line\") {\r\n        shapes.style(\"stroke\", type.feature);\r\n      } else {\r\n        shapes.style(\"fill\", type.feature);\r\n      }\r\n    } else {\r\n      shapes.attr(\"class\", function (d) {\r\n        return classPrefix + \"swatch \" + type.feature(d);\r\n      });\r\n    }\r\n\r\n    var cellTrans = void 0,\r\n        textTrans = void 0,\r\n        textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\r\n\r\n    //positions cells and text\r\n    if (orient === \"vertical\") {\r\n      (function () {\r\n        var cellSize = textSize.map(function (d, i) {\r\n          return Math.max(d.height, shapeSize[i].height);\r\n        });\r\n\r\n        cellTrans = function cellTrans(d, i) {\r\n          var height = sum(cellSize.slice(0, i));\r\n          return \"translate(0, \" + (height + i * shapePadding) + \")\";\r\n        };\r\n\r\n        textTrans = function textTrans(d, i) {\r\n          return \"translate( \" + (shapeSize[i].width + shapeSize[i].x + labelOffset) + \", \" + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + \")\";\r\n        };\r\n      })();\r\n    } else if (orient === \"horizontal\") {\r\n      cellTrans = function cellTrans(d, i) {\r\n        return \"translate(\" + i * (shapeSize[i].width + shapePadding) + \",0)\";\r\n      };\r\n      textTrans = function textTrans(d, i) {\r\n        return \"translate(\" + (shapeSize[i].width * textAlign + shapeSize[i].x) + \",\\n          \" + (shapeSize[i].height + shapeSize[i].y + labelOffset + 8) + \")\";\r\n      };\r\n    }\r\n\r\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n    helper.d3_title(svg, title, classPrefix, titleWidth);\r\n\r\n    cell.transition().style(\"opacity\", 1);\r\n  }\r\n\r\n  legend.scale = function (_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function (_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2) {\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.cellFilter = function (_) {\r\n    if (!arguments.length) return cellFilter;\r\n    cellFilter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.shape = function (_, d) {\r\n    if (!arguments.length) return shape;\r\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\" || _ == \"path\" && typeof d === \"string\") {\r\n      shape = _;\r\n      path = d;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeWidth = function (_) {\r\n    if (!arguments.length) return shapeWidth;\r\n    shapeWidth = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeHeight = function (_) {\r\n    if (!arguments.length) return shapeHeight;\r\n    shapeHeight = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeRadius = function (_) {\r\n    if (!arguments.length) return shapeRadius;\r\n    shapeRadius = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function (_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function (_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function (_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.locale = function (_) {\r\n    if (!arguments.length) return locale;\r\n    locale = formatLocale(_);\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function (_) {\r\n    if (!arguments.length) return legend.locale().format(specifier);\r\n    specifier = formatSpecifier(_);\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function (_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function (_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelWrap = function (_) {\r\n    if (!arguments.length) return labelWrap;\r\n    labelWrap = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.useClass = function (_) {\r\n    if (!arguments.length) return useClass;\r\n    if (_ === true || _ === false) {\r\n      useClass = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function (_) {\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function (_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function (_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function (_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.titleWidth = function (_) {\r\n    if (!arguments.length) return titleWidth;\r\n    titleWidth = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.textWrap = function (_) {\r\n    if (!arguments.length) return textWrap;\r\n    textWrap = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.on = function () {\r\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\r\n    return value === legendDispatcher ? legend : value;\r\n  };\r\n\r\n  return legend;\r\n}\r\n\r\nfunction size() {\r\n  var scale = scaleLinear(),\r\n      shape = \"rect\",\r\n      shapeWidth = 15,\r\n      shapePadding = 2,\r\n      cells = [5],\r\n      cellFilter = void 0,\r\n      labels = [],\r\n      classPrefix = \"\",\r\n      title = \"\",\r\n      locale = helper.d3_defaultLocale,\r\n      specifier = helper.d3_defaultFormatSpecifier,\r\n      labelOffset = 10,\r\n      labelAlign = \"middle\",\r\n      labelDelimiter = helper.d3_defaultDelimiter,\r\n      labelWrap = void 0,\r\n      orient = \"vertical\",\r\n      ascending = false,\r\n      path = void 0,\r\n      titleWidth = void 0,\r\n      legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n  function legend(svg) {\r\n    var type = helper.d3_calcType(scale, ascending, cells, labels, locale.format(specifier), labelDelimiter),\r\n        legendG = svg.selectAll(\"g\").data([scale]);\r\n\r\n    if (cellFilter) {\r\n      helper.d3_filterCells(type, cellFilter);\r\n    }\r\n\r\n    legendG.enter().append(\"g\").attr(\"class\", classPrefix + \"legendCells\");\r\n\r\n    var cell = svg.select(\".\" + classPrefix + \"legendCells\").selectAll(\".\" + classPrefix + \"cell\").data(type.data);\r\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\r\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\r\n\r\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\");\r\n\r\n    //add event handlers\r\n    helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n    cell.exit().transition().style(\"opacity\", 0).remove();\r\n\r\n    shapes.exit().transition().style(\"opacity\", 0).remove();\r\n    shapes = shapes.merge(shapes);\r\n\r\n    //creates shape\r\n    if (shape === \"line\") {\r\n      helper.d3_drawShapes(shape, shapes, 0, shapeWidth);\r\n      shapes.attr(\"stroke-width\", type.feature);\r\n    } else {\r\n      helper.d3_drawShapes(shape, shapes, type.feature, type.feature, type.feature, path);\r\n    }\r\n\r\n    var text = helper.d3_addText(svg, cellEnter, type.labels, classPrefix, labelWrap);\r\n\r\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\r\n    cell = cellEnter.merge(cell);\r\n\r\n    //sets placement\r\n\r\n    var textSize = text.nodes().map(function (d) {\r\n      return d.getBBox();\r\n    }),\r\n        shapeSize = shapes.nodes().map(function (d, i) {\r\n      var bbox = d.getBBox();\r\n      var stroke = scale(type.data[i]);\r\n\r\n      if (shape === \"line\" && orient === \"horizontal\") {\r\n        bbox.height = bbox.height + stroke;\r\n      } else if (shape === \"line\" && orient === \"vertical\") {\r\n        bbox.width = bbox.width;\r\n      }\r\n      return bbox;\r\n    });\r\n\r\n    var maxH = max(shapeSize, function (d) {\r\n      return d.height + d.y;\r\n    }),\r\n        maxW = max(shapeSize, function (d) {\r\n      return d.width + d.x;\r\n    });\r\n\r\n    var cellTrans = void 0,\r\n        textTrans = void 0,\r\n        textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\r\n\r\n    //positions cells and text\r\n    if (orient === \"vertical\") {\r\n      (function () {\r\n        var cellSize = textSize.map(function (d, i) {\r\n          return Math.max(d.height, shapeSize[i].height);\r\n        });\r\n        var y = shape == \"circle\" || shape == \"line\" ? shapeSize[0].height / 2 : 0;\r\n        cellTrans = function cellTrans(d, i) {\r\n          var height = sum(cellSize.slice(0, i));\r\n\r\n          return \"translate(0, \" + (y + height + i * shapePadding) + \")\";\r\n        };\r\n\r\n        textTrans = function textTrans(d, i) {\r\n          return \"translate( \" + (maxW + labelOffset) + \",\\n          \" + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + \")\";\r\n        };\r\n      })();\r\n    } else if (orient === \"horizontal\") {\r\n      (function () {\r\n        cellTrans = function cellTrans(d, i) {\r\n          var width = sum(shapeSize.slice(0, i), function (d) {\r\n            return d.width;\r\n          });\r\n          var y = shape == \"circle\" || shape == \"line\" ? maxH / 2 : 0;\r\n          return \"translate(\" + (width + i * shapePadding) + \", \" + y + \")\";\r\n        };\r\n\r\n        var offset = shape == \"line\" ? maxH / 2 : maxH;\r\n        textTrans = function textTrans(d, i) {\r\n          return \"translate( \" + (shapeSize[i].width * textAlign + shapeSize[i].x) + \",\\n              \" + (offset + labelOffset) + \")\";\r\n        };\r\n      })();\r\n    }\r\n\r\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n    helper.d3_title(svg, title, classPrefix, titleWidth);\r\n\r\n    cell.transition().style(\"opacity\", 1);\r\n  }\r\n\r\n  legend.scale = function (_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function (_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2) {\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.cellFilter = function (_) {\r\n    if (!arguments.length) return cellFilter;\r\n    cellFilter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.shape = function (_, d) {\r\n    if (!arguments.length) return shape;\r\n    if (_ == \"rect\" || _ == \"circle\" || _ == \"line\") {\r\n      shape = _;\r\n      path = d;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.shapeWidth = function (_) {\r\n    if (!arguments.length) return shapeWidth;\r\n    shapeWidth = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function (_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function (_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function (_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.locale = function (_) {\r\n    if (!arguments.length) return locale;\r\n    locale = formatLocale(_);\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function (_) {\r\n    if (!arguments.length) return legend.locale().format(specifier);\r\n    specifier = formatSpecifier(_);\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function (_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function (_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelWrap = function (_) {\r\n    if (!arguments.length) return labelWrap;\r\n    labelWrap = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function (_) {\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function (_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function (_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function (_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.titleWidth = function (_) {\r\n    if (!arguments.length) return titleWidth;\r\n    titleWidth = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.on = function () {\r\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\r\n    return value === legendDispatcher ? legend : value;\r\n  };\r\n\r\n  return legend;\r\n}\r\n\r\nfunction symbol() {\r\n  var scale = scaleLinear(),\r\n      shape = \"path\",\r\n      shapeWidth = 15,\r\n      shapeHeight = 15,\r\n      shapeRadius = 10,\r\n      shapePadding = 5,\r\n      cells = [5],\r\n      cellFilter = void 0,\r\n      labels = [],\r\n      classPrefix = \"\",\r\n      title = \"\",\r\n      locale = helper.d3_defaultLocale,\r\n      specifier = helper.d3_defaultFormatSpecifier,\r\n      labelAlign = \"middle\",\r\n      labelOffset = 10,\r\n      labelDelimiter = helper.d3_defaultDelimiter,\r\n      labelWrap = void 0,\r\n      orient = \"vertical\",\r\n      ascending = false,\r\n      titleWidth = void 0,\r\n      legendDispatcher = dispatch(\"cellover\", \"cellout\", \"cellclick\");\r\n\r\n  function legend(svg) {\r\n    var type = helper.d3_calcType(scale, ascending, cells, labels, locale.format(specifier), labelDelimiter),\r\n        legendG = svg.selectAll(\"g\").data([scale]);\r\n\r\n    if (cellFilter) {\r\n      helper.d3_filterCells(type, cellFilter);\r\n    }\r\n\r\n    legendG.enter().append(\"g\").attr(\"class\", classPrefix + \"legendCells\");\r\n\r\n    var cell = svg.select(\".\" + classPrefix + \"legendCells\").selectAll(\".\" + classPrefix + \"cell\").data(type.data);\r\n    var cellEnter = cell.enter().append(\"g\").attr(\"class\", classPrefix + \"cell\");\r\n    cellEnter.append(shape).attr(\"class\", classPrefix + \"swatch\");\r\n\r\n    var shapes = svg.selectAll(\"g.\" + classPrefix + \"cell \" + shape + \".\" + classPrefix + \"swatch\");\r\n\r\n    //add event handlers\r\n    helper.d3_addEvents(cellEnter, legendDispatcher);\r\n\r\n    //remove old shapes\r\n    cell.exit().transition().style(\"opacity\", 0).remove();\r\n    shapes.exit().transition().style(\"opacity\", 0).remove();\r\n    shapes = shapes.merge(shapes);\r\n\r\n    helper.d3_drawShapes(shape, shapes, shapeHeight, shapeWidth, shapeRadius, type.feature);\r\n    var text = helper.d3_addText(svg, cellEnter, type.labels, classPrefix, labelWrap);\r\n\r\n    // we need to merge the selection, otherwise changes in the legend (e.g. change of orientation) are applied only to the new cells and not the existing ones.\r\n    cell = cellEnter.merge(cell);\r\n\r\n    // sets placement\r\n    var textSize = text.nodes().map(function (d) {\r\n      return d.getBBox();\r\n    }),\r\n        shapeSize = shapes.nodes().map(function (d) {\r\n      return d.getBBox();\r\n    });\r\n\r\n    var maxH = max(shapeSize, function (d) {\r\n      return d.height;\r\n    }),\r\n        maxW = max(shapeSize, function (d) {\r\n      return d.width;\r\n    });\r\n\r\n    var cellTrans = void 0,\r\n        textTrans = void 0,\r\n        textAlign = labelAlign == \"start\" ? 0 : labelAlign == \"middle\" ? 0.5 : 1;\r\n\r\n    //positions cells and text\r\n    if (orient === \"vertical\") {\r\n      (function () {\r\n        var cellSize = textSize.map(function (d, i) {\r\n          return Math.max(maxH, d.height);\r\n        });\r\n\r\n        cellTrans = function cellTrans(d, i) {\r\n          var height = sum(cellSize.slice(0, i));\r\n          return \"translate(0, \" + (height + i * shapePadding) + \" )\";\r\n        };\r\n        textTrans = function textTrans(d, i) {\r\n          return \"translate( \" + (maxW + labelOffset) + \",\\n              \" + (shapeSize[i].y + shapeSize[i].height / 2 + 5) + \")\";\r\n        };\r\n      })();\r\n    } else if (orient === \"horizontal\") {\r\n      cellTrans = function cellTrans(d, i) {\r\n        return \"translate( \" + i * (maxW + shapePadding) + \",0)\";\r\n      };\r\n      textTrans = function textTrans(d, i) {\r\n        return \"translate( \" + (shapeSize[i].width * textAlign + shapeSize[i].x) + \",\\n              \" + (maxH + labelOffset) + \")\";\r\n      };\r\n    }\r\n\r\n    helper.d3_placement(orient, cell, cellTrans, text, textTrans, labelAlign);\r\n    helper.d3_title(svg, title, classPrefix, titleWidth);\r\n    cell.transition().style(\"opacity\", 1);\r\n  }\r\n\r\n  legend.scale = function (_) {\r\n    if (!arguments.length) return scale;\r\n    scale = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.cells = function (_) {\r\n    if (!arguments.length) return cells;\r\n    if (_.length > 1 || _ >= 2) {\r\n      cells = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.cellFilter = function (_) {\r\n    if (!arguments.length) return cellFilter;\r\n    cellFilter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.shapePadding = function (_) {\r\n    if (!arguments.length) return shapePadding;\r\n    shapePadding = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labels = function (_) {\r\n    if (!arguments.length) return labels;\r\n    labels = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelAlign = function (_) {\r\n    if (!arguments.length) return labelAlign;\r\n    if (_ == \"start\" || _ == \"end\" || _ == \"middle\") {\r\n      labelAlign = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.locale = function (_) {\r\n    if (!arguments.length) return locale;\r\n    locale = formatLocale(_);\r\n    return legend;\r\n  };\r\n\r\n  legend.labelFormat = function (_) {\r\n    if (!arguments.length) return legend.locale().format(specifier);\r\n    specifier = formatSpecifier(_);\r\n    return legend;\r\n  };\r\n\r\n  legend.labelOffset = function (_) {\r\n    if (!arguments.length) return labelOffset;\r\n    labelOffset = +_;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelDelimiter = function (_) {\r\n    if (!arguments.length) return labelDelimiter;\r\n    labelDelimiter = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.labelWrap = function (_) {\r\n    if (!arguments.length) return labelWrap;\r\n    labelWrap = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.orient = function (_) {\r\n    if (!arguments.length) return orient;\r\n    _ = _.toLowerCase();\r\n    if (_ == \"horizontal\" || _ == \"vertical\") {\r\n      orient = _;\r\n    }\r\n    return legend;\r\n  };\r\n\r\n  legend.ascending = function (_) {\r\n    if (!arguments.length) return ascending;\r\n    ascending = !!_;\r\n    return legend;\r\n  };\r\n\r\n  legend.classPrefix = function (_) {\r\n    if (!arguments.length) return classPrefix;\r\n    classPrefix = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.title = function (_) {\r\n    if (!arguments.length) return title;\r\n    title = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.titleWidth = function (_) {\r\n    if (!arguments.length) return titleWidth;\r\n    titleWidth = _;\r\n    return legend;\r\n  };\r\n\r\n  legend.on = function () {\r\n    var value = legendDispatcher.on.apply(legendDispatcher, arguments);\r\n    return value === legendDispatcher ? legend : value;\r\n  };\r\n\r\n  return legend;\r\n}\r\n\r\nvar thresholdLabels = function thresholdLabels(_ref) {\r\n  var i = _ref.i,\r\n      genLength = _ref.genLength,\r\n      generatedLabels = _ref.generatedLabels,\r\n      labelDelimiter = _ref.labelDelimiter;\r\n\r\n  if (i === 0) {\r\n    var values = generatedLabels[i].split(\" \" + labelDelimiter + \" \");\r\n    return \"Less than \" + values[1];\r\n  } else if (i === genLength - 1) {\r\n    var _values = generatedLabels[i].split(\" \" + labelDelimiter + \" \");\r\n    return _values[0] + \" or more\";\r\n  }\r\n  return generatedLabels[i];\r\n};\r\n\r\nvar legendHelpers = {\r\n  thresholdLabels: thresholdLabels\r\n};\r\n\r\nvar index = {\r\n  legendColor: color,\r\n  legendSize: size,\r\n  legendSymbol: symbol,\r\n  legendHelpers: legendHelpers\r\n};\r\n\r\nexport { color as legendColor, size as legendSize, symbol as legendSymbol, legendHelpers };export default index;\r\n//# sourceMappingURL=indexRollupNext.js.map\r\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":"webpack:///"}